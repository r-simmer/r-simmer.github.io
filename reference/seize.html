<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Activities for seizing/releasing a resource, by name or a previously selected
one. Resources must be defined in the simulation environment (see
add_resource)."><title>Seize/Release Resources — seize • simmer | DES for R</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Seize/Release Resources — seize"><meta property="og:description" content="Activities for seizing/releasing a resource, by name or a previously selected
one. Resources must be defined in the simulation environment (see
add_resource)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115358925-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115358925-1');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">simmer | DES for R</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.4.6.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa-gears"></span>
     
    Reference
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/index.html">
    <span class="fa fa-graduation-cap"></span>
     
    Articles
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r-simmer/simmer">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--">
    <span class="fa fa-puzzle-piece"></span>
     
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--">
    <a class="dropdown-item" href="../extensions/plot">simmer.plot</a>
    <a class="dropdown-item" href="../extensions/bricks">simmer.bricks</a>
    <a class="external-link dropdown-item" href="https://github.com/r-simmer/simmer.optim">simmer.optim</a>
    <a class="external-link dropdown-item" href="https://github.com/r-simmer/simmer.json">simmer.json</a>
    <a class="external-link dropdown-item" href="https://github.com/r-simmer/simmer.mon">simmer.mon</a>
  </div>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Seize/Release Resources</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-simmer/simmer/blob/HEAD/R/trajectory-activities.R" class="external-link"><code>R/trajectory-activities.R</code></a></small>
      <div class="d-none name"><code>seize.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Activities for seizing/releasing a resource, by name or a previously selected
one. Resources must be defined in the simulation environment (see
<code><a href="add_resource.html">add_resource</a></code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">seize</span><span class="op">(</span><span class="va">.trj</span>, <span class="va">resource</span>, amount <span class="op">=</span> <span class="fl">1</span>, continue <span class="op">=</span> <span class="cn">NULL</span>, post.seize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  reject <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span>, <span class="va">tag</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">seize_selected</span><span class="op">(</span><span class="va">.trj</span>, amount <span class="op">=</span> <span class="fl">1</span>, id <span class="op">=</span> <span class="fl">0</span>, continue <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  post.seize <span class="op">=</span> <span class="cn">NULL</span>, reject <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span>, <span class="va">tag</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">release</span><span class="op">(</span><span class="va">.trj</span>, <span class="va">resource</span>, amount <span class="op">=</span> <span class="fl">1</span>, <span class="va">...</span>, <span class="va">tag</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">release_selected</span><span class="op">(</span><span class="va">.trj</span>, amount <span class="op">=</span> <span class="fl">1</span>, id <span class="op">=</span> <span class="fl">0</span>, <span class="va">...</span>, <span class="va">tag</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">release_all</span><span class="op">(</span><span class="va">.trj</span>, <span class="va">resource</span>, <span class="va">...</span>, <span class="va">tag</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">release_selected_all</span><span class="op">(</span><span class="va">.trj</span>, id <span class="op">=</span> <span class="fl">0</span>, <span class="va">...</span>, <span class="va">tag</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>.trj</dt>
<dd><p>the trajectory object.</p></dd>


<dt>resource</dt>
<dd><p>the name of the resource.</p></dd>


<dt>amount</dt>
<dd><p>the amount to seize/release, accepts either a numeric or a
callable object (a function) which must return a numeric.</p></dd>


<dt>continue</dt>
<dd><p>a boolean (if <code>post.seize</code> OR <code>reject</code> is defined)
or a pair of booleans (if <code>post.seize</code> AND <code>reject</code> are defined; if
only one value is provided, it will be recycled) to indicate whether these
subtrajectories should continue to the next activity in the main trajectory.</p></dd>


<dt>post.seize</dt>
<dd><p>an optional trajectory object which will be followed after
a successful seize.</p></dd>


<dt>reject</dt>
<dd><p>an optional trajectory object which will be followed if the
arrival is rejected (dropped).</p></dd>


<dt>...</dt>
<dd><p>unused.</p></dd>


<dt>tag</dt>
<dd><p>activity tag name to perform named rollbacks (see
<code><a href="rollback.html">rollback</a></code>) or just to better identify your activities.</p></dd>


<dt>id</dt>
<dd><p>selection identifier for nested usage.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Returns the trajectory object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Rejection happens when a resource is at full capacity and there is
no room in the queue (either because there is a finite <code>queue_size</code> and
it is full, or because <code>queue_size=0</code> and thus it is disabled). In those
cases, the <code>reject</code> parameter defines a fallback trajectory. Note,
however, that, if the arrival is accepted (either in the queue or in the
server) and then it is dropped afterwards due to preemption or resource
shrinkage, then this trajectory will not be executed. Instead, see
<code><a href="handle_unfinished.html">handle_unfinished</a></code> for another, more general, method for
handling all kinds of unfinished arrivals.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="select.html">select</a></code>, <code><a href="set_capacity.html">set_capacity</a></code>, <code><a href="set_capacity.html">set_queue_size</a></code>,
<code><a href="set_capacity.html">set_capacity_selected</a></code>, <code><a href="set_capacity.html">set_queue_size_selected</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## simple seize, delay, then release</span></span></span>
<span class="r-in"><span><span class="va">traj</span> <span class="op">&lt;-</span> <span class="fu"><a href="trajectory.html">trajectory</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">seize</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="timeout.html">timeout</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">release</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="simmer.html">simmer</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_resource.html">add_resource</a></span><span class="op">(</span><span class="st">"doctor"</span>, capacity<span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_generator.html">add_generator</a></span><span class="op">(</span><span class="st">"patient"</span>, <span class="va">traj</span>, <span class="fu"><a href="generators.html">at</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="run.html">run</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_mon.html">get_mon_resources</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   resource time server queue capacity queue_size system limit replication</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   doctor    0      1     0        1        Inf      1   Inf           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   doctor    1      1     1        1        Inf      2   Inf           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   doctor    3      1     0        1        Inf      1   Inf           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   doctor    6      0     0        1        Inf      0   Inf           1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## arrival rejection (no space left in the queue)</span></span></span>
<span class="r-in"><span><span class="va">traj</span> <span class="op">&lt;-</span> <span class="fu"><a href="trajectory.html">trajectory</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"arriving..."</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">seize</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="co"># the second patient won't reach this point</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"doctor seized"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="timeout.html">timeout</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">release</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="simmer.html">simmer</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_resource.html">add_resource</a></span><span class="op">(</span><span class="st">"doctor"</span>, capacity<span class="op">=</span><span class="fl">1</span>, queue_size<span class="op">=</span><span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_generator.html">add_generator</a></span><span class="op">(</span><span class="st">"patient"</span>, <span class="va">traj</span>, <span class="fu"><a href="generators.html">at</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="run.html">run</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">invisible</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0: patient0: arriving...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0: patient0: doctor seized</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: patient1: arriving...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## capturing rejection to retry</span></span></span>
<span class="r-in"><span><span class="va">traj</span> <span class="op">&lt;-</span> <span class="fu"><a href="trajectory.html">trajectory</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"arriving..."</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">seize</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"doctor"</span>, <span class="fl">1</span>, continue <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>    reject <span class="op">=</span> <span class="fu"><a href="trajectory.html">trajectory</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"rejected!"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="co"># go for a walk and try again</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="timeout.html">timeout</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"retrying..."</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="rollback.html">rollback</a></span><span class="op">(</span>amount <span class="op">=</span> <span class="fl">4</span>, times <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="co"># the second patient will reach this point after a couple of walks</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"doctor seized"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="timeout.html">timeout</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">release</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"leaving"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>argument 'amount' is deprecated, use 'target' instead</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="simmer.html">simmer</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_resource.html">add_resource</a></span><span class="op">(</span><span class="st">"doctor"</span>, capacity<span class="op">=</span><span class="fl">1</span>, queue_size<span class="op">=</span><span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_generator.html">add_generator</a></span><span class="op">(</span><span class="st">"patient"</span>, <span class="va">traj</span>, <span class="fu"><a href="generators.html">at</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="run.html">run</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">invisible</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0: patient0: arriving...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0: patient0: doctor seized</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: patient1: arriving...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: patient1: rejected!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: patient1: retrying...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: patient1: rejected!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5: patient1: retrying...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5: patient0: leaving</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5: patient1: doctor seized</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10: patient1: leaving</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## combining post.seize and reject</span></span></span>
<span class="r-in"><span><span class="va">traj</span> <span class="op">&lt;-</span> <span class="fu"><a href="trajectory.html">trajectory</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"arriving..."</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">seize</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"doctor"</span>, <span class="fl">1</span>, continue <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    post.seize <span class="op">=</span> <span class="fu"><a href="trajectory.html">trajectory</a></span><span class="op">(</span><span class="st">"admitted patient"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"admitted"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="timeout.html">timeout</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu">release</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    reject <span class="op">=</span> <span class="fu"><a href="trajectory.html">trajectory</a></span><span class="op">(</span><span class="st">"rejected patient"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"rejected!"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu">seize</span><span class="op">(</span><span class="st">"nurse"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="timeout.html">timeout</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>      <span class="fu">release</span><span class="op">(</span><span class="st">"nurse"</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="co"># both patients will reach this point, as continue = c(TRUE, TRUE)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="timeout.html">timeout</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"leaving..."</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="simmer.html">simmer</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_resource.html">add_resource</a></span><span class="op">(</span><span class="st">"doctor"</span>, capacity<span class="op">=</span><span class="fl">1</span>, queue_size<span class="op">=</span><span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_resource.html">add_resource</a></span><span class="op">(</span><span class="st">"nurse"</span>, capacity<span class="op">=</span><span class="fl">10</span>, queue_size<span class="op">=</span><span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_generator.html">add_generator</a></span><span class="op">(</span><span class="st">"patient"</span>, <span class="va">traj</span>, <span class="fu"><a href="generators.html">at</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="run.html">run</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">invisible</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0: patient0: arriving...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0: patient0: admitted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: patient1: arriving...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: patient1: rejected!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13: patient1: leaving...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15: patient0: leaving...</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Iñaki Ucar, Bart Smeets.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

