<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Seize/Release Resources — seize • simmer | DES for R</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Seize/Release Resources — seize"><meta property="og:description" content="Activities for seizing/releasing a resource, by name or a previously selected
one. Resources must be defined in the simulation environment (see
add_resource)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115358925-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115358925-1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simmer | DES for R</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.4.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href=".././">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-gears"></span>
     
    Reference
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-graduation-cap"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/simmer-01-introduction.html">Introduction to simmer</a>
    </li>
    <li>
      <a href="../articles/simmer-02-jss.pdf">JSS paper (PDF)</a>
    </li>
    <li>
      <a href="../articles/simmer-03-trajectories.html">Advanced Trajectory Usage</a>
    </li>
    <li>
      <a href="../articles/simmer-04-bank-1.html">The Bank Tutorial: Part I</a>
    </li>
    <li>
      <a href="../articles/simmer-04-bank-2.html">The Bank Tutorial: Part II</a>
    </li>
    <li>
      <a href="../articles/simmer-05-simpy.html">Other SimPy Examples</a>
    </li>
    <li>
      <a href="../articles/simmer-06-queueing.html">Queueing Systems</a>
    </li>
    <li>
      <a href="../articles/simmer-07-ctmc.html">Continuous-Time Markov Chains</a>
    </li>
    <li>
      <a href="../articles/simmer-08-philosophers.html">Dining Philosophers Problem</a>
    </li>
    <li>
      <a href="../articles/simmer-aa-5G.html">Design and Analysis of 5G Scenarios</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li>
  <a href="https://github.com/r-simmer/simmer" class="external-link">
    <span class="fa fa-github"></span>
     
    GitHub
  </a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-puzzle-piece"></span>
     
    Extensions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../extensions/plot">simmer.plot</a>
    </li>
    <li>
      <a href="../extensions/bricks">simmer.bricks</a>
    </li>
    <li>
      <a href="https://github.com/r-simmer/simmer.optim" class="external-link">simmer.optim</a>
    </li>
    <li>
      <a href="https://github.com/r-simmer/simmer.json" class="external-link">simmer.json</a>
    </li>
    <li>
      <a href="https://github.com/r-simmer/simmer.mon" class="external-link">simmer.mon</a>
    </li>
  </ul></li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Seize/Release Resources</h1>
    <small class="dont-index">Source: <a href="https://github.com/r-simmer/simmer/blob/HEAD/R/trajectory-activities.R" class="external-link"><code>R/trajectory-activities.R</code></a></small>
    <div class="hidden name"><code>seize.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Activities for seizing/releasing a resource, by name or a previously selected
one. Resources must be defined in the simulation environment (see
<code><a href="add_resource.html">add_resource</a></code>).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">seize</span><span class="op">(</span><span class="va">.trj</span>, <span class="va">resource</span>, amount <span class="op">=</span> <span class="fl">1</span>, continue <span class="op">=</span> <span class="cn">NULL</span>, post.seize <span class="op">=</span> <span class="cn">NULL</span>,
  reject <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>

<span class="fu">seize_selected</span><span class="op">(</span><span class="va">.trj</span>, amount <span class="op">=</span> <span class="fl">1</span>, id <span class="op">=</span> <span class="fl">0</span>, continue <span class="op">=</span> <span class="cn">NULL</span>,
  post.seize <span class="op">=</span> <span class="cn">NULL</span>, reject <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>

<span class="fu">release</span><span class="op">(</span><span class="va">.trj</span>, <span class="va">resource</span>, amount <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>

<span class="fu">release_selected</span><span class="op">(</span><span class="va">.trj</span>, amount <span class="op">=</span> <span class="fl">1</span>, id <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>

<span class="fu">release_all</span><span class="op">(</span><span class="va">.trj</span>, <span class="va">resource</span><span class="op">)</span>

<span class="fu">release_selected_all</span><span class="op">(</span><span class="va">.trj</span>, id <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>.trj</dt>
<dd><p>the trajectory object.</p></dd>


<dt>resource</dt>
<dd><p>the name of the resource.</p></dd>


<dt>amount</dt>
<dd><p>the amount to seize/release, accepts either a numeric or a
callable object (a function) which must return a numeric.</p></dd>


<dt>continue</dt>
<dd><p>a boolean (if <code>post.seize</code> OR <code>reject</code> is defined)
or a pair of booleans (if <code>post.seize</code> AND <code>reject</code> are defined; if
only one value is provided, it will be recycled) to indicate whether these
subtrajectories should continue to the next activity in the main trajectory.</p></dd>


<dt>post.seize</dt>
<dd><p>an optional trajectory object which will be followed after
a successful seize.</p></dd>


<dt>reject</dt>
<dd><p>an optional trajectory object which will be followed if the
arrival is rejected (dropped).</p></dd>


<dt>id</dt>
<dd><p>selection identifier for nested usage.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Returns the trajectory object.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Rejection happens when a resource is at full capacity and there is
no room in the queue (either because there is a finite <code>queue_size</code> and
it is full, or because <code>queue_size=0</code> and thus it is disabled). In those
cases, the <code>reject</code> parameter defines a fallback trajectory. Note,
however, that, if the arrival is accepted (either in the queue or in the
server) and then it is dropped afterwards due to preemption or resource
shrinkage, then this trajectory will not be executed. Instead, see
<code><a href="handle_unfinished.html">handle_unfinished</a></code> for another, more general, method for
handling all kinds of unfinished arrivals.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="select.html">select</a></code>, <code><a href="set_capacity.html">set_capacity</a></code>, <code><a href="set_capacity.html">set_queue_size</a></code>,
<code><a href="set_capacity.html">set_capacity_selected</a></code>, <code><a href="set_capacity.html">set_queue_size_selected</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co">## simple seize, delay, then release</span></span>
<span class="r-in"><span class="va">traj</span> <span class="op">&lt;-</span> <span class="fu"><a href="trajectory.html">trajectory</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">seize</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="timeout.html">timeout</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">release</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="simmer.html">simmer</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="add_resource.html">add_resource</a></span><span class="op">(</span><span class="st">"doctor"</span>, capacity<span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="add_generator.html">add_generator</a></span><span class="op">(</span><span class="st">"patient"</span>, <span class="va">traj</span>, <span class="fu"><a href="generators.html">at</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="run.html">run</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="get_mon.html">get_mon_resources</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   resource time server queue capacity queue_size system limit replication</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   doctor    0      1     0        1        Inf      1   Inf           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   doctor    1      1     1        1        Inf      2   Inf           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   doctor    3      1     0        1        Inf      1   Inf           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   doctor    6      0     0        1        Inf      0   Inf           1</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## arrival rejection (no space left in the queue)</span></span>
<span class="r-in"><span class="va">traj</span> <span class="op">&lt;-</span> <span class="fu"><a href="trajectory.html">trajectory</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"arriving..."</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">seize</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="co"># the second patient won't reach this point</span></span>
<span class="r-in">  <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"doctor seized"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="timeout.html">timeout</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">release</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="simmer.html">simmer</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="add_resource.html">add_resource</a></span><span class="op">(</span><span class="st">"doctor"</span>, capacity<span class="op">=</span><span class="fl">1</span>, queue_size<span class="op">=</span><span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="add_generator.html">add_generator</a></span><span class="op">(</span><span class="st">"patient"</span>, <span class="va">traj</span>, <span class="fu"><a href="generators.html">at</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="run.html">run</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">invisible</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0: patient0: arriving...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0: patient0: doctor seized</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: patient1: arriving...</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## capturing rejection to retry</span></span>
<span class="r-in"><span class="va">traj</span> <span class="op">&lt;-</span> <span class="fu"><a href="trajectory.html">trajectory</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"arriving..."</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">seize</span><span class="op">(</span></span>
<span class="r-in">    <span class="st">"doctor"</span>, <span class="fl">1</span>, continue <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span class="r-in">    reject <span class="op">=</span> <span class="fu"><a href="trajectory.html">trajectory</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">      <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"rejected!"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">      <span class="co"># go for a walk and try again</span></span>
<span class="r-in">      <span class="fu"><a href="timeout.html">timeout</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">      <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"retrying..."</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">      <span class="fu"><a href="rollback.html">rollback</a></span><span class="op">(</span>amount <span class="op">=</span> <span class="fl">4</span>, times <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="co"># the second patient will reach this point after a couple of walks</span></span>
<span class="r-in">  <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"doctor seized"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="timeout.html">timeout</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">release</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"leaving"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="simmer.html">simmer</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="add_resource.html">add_resource</a></span><span class="op">(</span><span class="st">"doctor"</span>, capacity<span class="op">=</span><span class="fl">1</span>, queue_size<span class="op">=</span><span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="add_generator.html">add_generator</a></span><span class="op">(</span><span class="st">"patient"</span>, <span class="va">traj</span>, <span class="fu"><a href="generators.html">at</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="run.html">run</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">invisible</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0: patient0: arriving...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0: patient0: doctor seized</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: patient1: arriving...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: patient1: rejected!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: patient1: retrying...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: patient1: rejected!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5: patient1: retrying...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5: patient0: leaving</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5: patient1: doctor seized</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10: patient1: leaving</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## combining post.seize and reject</span></span>
<span class="r-in"><span class="va">traj</span> <span class="op">&lt;-</span> <span class="fu"><a href="trajectory.html">trajectory</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"arriving..."</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">seize</span><span class="op">(</span></span>
<span class="r-in">    <span class="st">"doctor"</span>, <span class="fl">1</span>, continue <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span class="r-in">    post.seize <span class="op">=</span> <span class="fu"><a href="trajectory.html">trajectory</a></span><span class="op">(</span><span class="st">"admitted patient"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">      <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"admitted"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">      <span class="fu"><a href="timeout.html">timeout</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">      <span class="fu">release</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span class="r-in">    reject <span class="op">=</span> <span class="fu"><a href="trajectory.html">trajectory</a></span><span class="op">(</span><span class="st">"rejected patient"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">      <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"rejected!"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">      <span class="fu">seize</span><span class="op">(</span><span class="st">"nurse"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">      <span class="fu"><a href="timeout.html">timeout</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">      <span class="fu">release</span><span class="op">(</span><span class="st">"nurse"</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="co"># both patients will reach this point, as continue = c(TRUE, TRUE)</span></span>
<span class="r-in">  <span class="fu"><a href="timeout.html">timeout</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="log_.html">log_</a></span><span class="op">(</span><span class="st">"leaving..."</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="simmer.html">simmer</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="add_resource.html">add_resource</a></span><span class="op">(</span><span class="st">"doctor"</span>, capacity<span class="op">=</span><span class="fl">1</span>, queue_size<span class="op">=</span><span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="add_resource.html">add_resource</a></span><span class="op">(</span><span class="st">"nurse"</span>, capacity<span class="op">=</span><span class="fl">10</span>, queue_size<span class="op">=</span><span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="add_generator.html">add_generator</a></span><span class="op">(</span><span class="st">"patient"</span>, <span class="va">traj</span>, <span class="fu"><a href="generators.html">at</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="run.html">run</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">invisible</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0: patient0: arriving...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0: patient0: admitted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: patient1: arriving...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: patient1: rejected!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13: patient1: leaving...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15: patient0: leaving...</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Iñaki Ucar, Bart Smeets.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

      </footer></div>

  


  

  </body></html>

