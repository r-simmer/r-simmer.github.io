<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Inter-arrival Communication — send • simmer | DES for R</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  
<meta property="og:title" content="Inter-arrival Communication — send" />

<meta property="og:description" content="These activities enable asynchronous programming. send() broadcasts a
signal or a list of signals. Arrivals can subscribe to signals and (optionally)
assign a handler with trap(). Note that, while inside a batch, all the
signals subscribed before entering the batch are ignored. Upon a signal
reception, the arrival stops the current activity and executes the handler
(if provided). Then, the execution returns to the activity following the
point of the interruption. untrap() can be used to unsubscribe from
signals. wait() blocks until a signal is received." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115358925-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115358925-1');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simmer | DES for R</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href=".././">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-gears"></span>
     
    Reference
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-graduation-cap"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/simmer-01-introduction.html">Introduction to simmer</a>
    </li>
    <li>
      <a href="../articles/simmer-02-jss.pdf">JSS paper (PDF)</a>
    </li>
    <li>
      <a href="../articles/simmer-03-trajectories.html">Advanced Trajectory Usage</a>
    </li>
    <li>
      <a href="../articles/simmer-04-bank-1.html">The Bank Tutorial: Part I</a>
    </li>
    <li>
      <a href="../articles/simmer-04-bank-2.html">The Bank Tutorial: Part II</a>
    </li>
    <li>
      <a href="../articles/simmer-05-simpy.html">Other SimPy Examples</a>
    </li>
    <li>
      <a href="../articles/simmer-06-queueing.html">Queueing Systems</a>
    </li>
    <li>
      <a href="../articles/simmer-07-ctmc.html">Continuous-Time Markov Chains</a>
    </li>
    <li>
      <a href="../articles/simmer-08-philosophers.html">Dining Philosophers Problem</a>
    </li>
    <li>
      <a href="../articles/simmer-aa-5G.html">Design and Analysis of 5G Scenarios</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li>
  <a href="https://github.com/r-simmer/simmer">
    <span class="fa fa-github"></span>
     
    GitHub
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-puzzle-piece"></span>
     
    Extensions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../extensions/plot">simmer.plot</a>
    </li>
    <li>
      <a href="../extensions/bricks">simmer.bricks</a>
    </li>
    <li>
      <a href="https://github.com/r-simmer/simmer.optim">simmer.optim</a>
    </li>
    <li>
      <a href="https://github.com/r-simmer/simmer.json">simmer.json</a>
    </li>
    <li>
      <a href="https://github.com/r-simmer/simmer.mon">simmer.mon</a>
    </li>
  </ul>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Inter-arrival Communication</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-simmer/simmer/blob/master/R/trajectory-activities.R'><code>R/trajectory-activities.R</code></a></small>
    <div class="hidden name"><code>send.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>These activities enable asynchronous programming. <code>send()</code> broadcasts a
signal or a list of signals. Arrivals can subscribe to signals and (optionally)
assign a handler with <code>trap()</code>. Note that, while inside a batch, all the
signals subscribed before entering the batch are ignored. Upon a signal
reception, the arrival stops the current activity and executes the handler
(if provided). Then, the execution returns to the activity following the
point of the interruption. <code>untrap()</code> can be used to unsubscribe from
signals. <code>wait()</code> blocks until a signal is received.</p>
    
    </div>

    <pre class="usage"><span class='fu'>send</span>(<span class='no'>.trj</span>, <span class='no'>signals</span>, <span class='kw'>delay</span> <span class='kw'>=</span> <span class='fl'>0</span>)

<span class='fu'>trap</span>(<span class='no'>.trj</span>, <span class='no'>signals</span>, <span class='kw'>handler</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>interruptible</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>untrap</span>(<span class='no'>.trj</span>, <span class='no'>signals</span>)

<span class='fu'>wait</span>(<span class='no'>.trj</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.trj</th>
      <td><p>the trajectory object.</p></td>
    </tr>
    <tr>
      <th>signals</th>
      <td><p>signal or list of signals, accepts either a string, a list of
strings or a callable object (a function) which must return a string or a
list of strings.</p></td>
    </tr>
    <tr>
      <th>delay</th>
      <td><p>optional timeout to trigger the signals, accepts either a
numeric or a callable object (a function) which must return a numeric.</p></td>
    </tr>
    <tr>
      <th>handler</th>
      <td><p>optional trajectory object to handle a signal received.</p></td>
    </tr>
    <tr>
      <th>interruptible</th>
      <td><p>whether the handler can be interrupted by signals.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns the trajectory object.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='renege_in.html'>renege_if</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## block, signal and continue with a handler</span>
<span class='no'>signal</span> <span class='kw'>&lt;-</span> <span class='st'>"you shall pass"</span>

<span class='no'>t_blocked</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='trajectory.html'>trajectory</a></span>() <span class='kw'>%&gt;%</span>
  <span class='fu'>trap</span>(
    <span class='no'>signal</span>,
    <span class='fu'><a href='trajectory.html'>trajectory</a></span>() <span class='kw'>%&gt;%</span>
      <span class='fu'><a href='log_.html'>log_</a></span>(<span class='st'>"executing the handler"</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='log_.html'>log_</a></span>(<span class='st'>"waiting..."</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>wait</span>() <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='log_.html'>log_</a></span>(<span class='st'>"continuing!"</span>)

<span class='no'>t_signaler</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='trajectory.html'>trajectory</a></span>() <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='log_.html'>log_</a></span>(<span class='no'>signal</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>send</span>(<span class='no'>signal</span>)

<span class='fu'><a href='simmer.html'>simmer</a></span>() <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='add_generator.html'>add_generator</a></span>(<span class='st'>"blocked"</span>, <span class='no'>t_blocked</span>, <span class='fu'><a href='generators.html'>at</a></span>(<span class='fl'>0</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='add_generator.html'>add_generator</a></span>(<span class='st'>"signaler"</span>, <span class='no'>t_signaler</span>, <span class='fu'><a href='generators.html'>at</a></span>(<span class='fl'>5</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='run.html'>run</a></span>() <span class='kw'>%&gt;%</span> <span class='no'>invisible</span></div><div class='output co'>#&gt; 0: blocked0: waiting...
#&gt; 5: signaler0: you shall pass
#&gt; 5: blocked0: executing the handler
#&gt; 5: blocked0: continuing!</div><div class='input'>
<span class='co'>## handlers can be interrupted, unless interruptible=FALSE</span>
<span class='no'>t_worker</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='trajectory.html'>trajectory</a></span>() <span class='kw'>%&gt;%</span>
  <span class='fu'>trap</span>(
  <span class='no'>signal</span>,
  <span class='kw'>handler</span> <span class='kw'>=</span> <span class='fu'><a href='trajectory.html'>trajectory</a></span>() <span class='kw'>%&gt;%</span>
    <span class='fu'><a href='log_.html'>log_</a></span>(<span class='st'>"ok, I'm packing..."</span>) <span class='kw'>%&gt;%</span>
    <span class='fu'><a href='timeout.html'>timeout</a></span>(<span class='fl'>1</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='log_.html'>log_</a></span>(<span class='st'>"performing a looong task..."</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='timeout.html'>timeout</a></span>(<span class='fl'>100</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='log_.html'>log_</a></span>(<span class='st'>"and I'm leaving!"</span>)

<span class='fu'><a href='simmer.html'>simmer</a></span>() <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='add_generator.html'>add_generator</a></span>(<span class='st'>"worker"</span>, <span class='no'>t_worker</span>, <span class='fu'><a href='generators.html'>at</a></span>(<span class='fl'>0</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='add_generator.html'>add_generator</a></span>(<span class='st'>"signaler"</span>, <span class='no'>t_signaler</span>, <span class='fu'><a href='generators.html'>at</a></span>(<span class='fl'>5</span>, <span class='fl'>5.5</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='run.html'>run</a></span>() <span class='kw'>%&gt;%</span> <span class='no'>invisible</span></div><div class='output co'>#&gt; 0: worker0: performing a looong task...
#&gt; 5: signaler0: you shall pass
#&gt; 5: worker0: ok, I'm packing...
#&gt; 5.5: signaler1: you shall pass
#&gt; 5.5: worker0: ok, I'm packing...
#&gt; 6.5: worker0: and I'm leaving!</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Iñaki Ucar, Bart Smeets.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

