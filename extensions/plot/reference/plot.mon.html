<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot Methods for simmer Monitoring Statistics — plot.mon • simmer.plot</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Plot Methods for simmer Monitoring Statistics — plot.mon"><meta property="og:description" content="Methods for the plot generic. See below for details about each
metric available."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115358925-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115358925-1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simmer.plot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.17</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href=".././">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-gears"></span>
     
    Reference
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-graduation-cap"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/plot.simmer.html">Plotting simmer statistics</a>
    </li>
    <li>
      <a href="../articles/plot.trajectory.html">Plotting simmer trajectories</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li>
  <a href="https://github.com/r-simmer/simmer.plot" class="external-link">
    <span class="fa fa-github"></span>
     
    GitHub
  </a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://r-simmer.org" class="external-link">
    <span class="fa fa-coffee"></span>
     
    simmer
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-puzzle-piece"></span>
     
    Extensions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../../plot">simmer.plot</a>
    </li>
    <li>
      <a href="../../bricks">simmer.bricks</a>
    </li>
    <li>
      <a href="https://github.com/r-simmer/simmer.optim" class="external-link">simmer.optim</a>
    </li>
    <li>
      <a href="https://github.com/r-simmer/simmer.json" class="external-link">simmer.json</a>
    </li>
  </ul></li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot Methods for <code>simmer</code> Monitoring Statistics</h1>
    <small class="dont-index">Source: <a href="https://github.com/r-simmer/simmer.plot/blob/HEAD/R/plot.arrivals.R" class="external-link"><code>R/plot.arrivals.R</code></a>, <a href="https://github.com/r-simmer/simmer.plot/blob/HEAD/R/plot.attributes.R" class="external-link"><code>R/plot.attributes.R</code></a>, <a href="https://github.com/r-simmer/simmer.plot/blob/HEAD/R/plot.resources.R" class="external-link"><code>R/plot.resources.R</code></a>, and 1 more</small>
    <div class="hidden name"><code>plot.mon.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Methods for the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></code> generic. See below for details about each
metric available.</p>
    </div>

    <div id="ref-usage">Usage,<div class="sourceCode"><pre class="sourceCode r"><code><span class="co"># S3 method for arrivals</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"activity_time"</span>, <span class="st">"waiting_time"</span>, <span class="st">"flow_time"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for attributes</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, metric <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">keys</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for resources</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"usage"</span>, <span class="st">"utilization"</span><span class="op">)</span>, <span class="va">names</span>,
  items <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"queue"</span>, <span class="st">"server"</span>, <span class="st">"system"</span><span class="op">)</span>, steps <span class="op">=</span> <span class="cn">FALSE</span>, limits <span class="op">=</span> <span class="cn">TRUE</span>,
  <span class="va">...</span><span class="op">)</span></code></pre></div></div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>a data frame of class <code>arrivals</code>/<code>attributes</code>/<code>resources</code>
(see <code><a href="get_mon.html">get_mon</a></code>).</p></dd>
<dt>metric</dt>
<dd><p>specific metric to compute.</p></dd>
<dt>...</dt>
<dd><p>unused.</p></dd>
<dt>keys</dt>
<dd><p>attributes to plot (if left empty, all attributes are shown).</p></dd>
<dt>names</dt>
<dd><p>resources to plot (if left empty, all resources are shown).</p></dd>
<dt>items</dt>
<dd><p>(<code>metric="usage"</code>) resource items to include in the chart.</p></dd>
<dt>steps</dt>
<dd><p>(<code>metric="usage"</code>) whether to show the instantaneous usage
rather than the cumulative average.</p></dd>
<dt>limits</dt>
<dd><p>(<code>metric="usage"</code>) whether to show limits.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Returns a ggplot2 object.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The S3 method for 'arrivals' provides three metrics: <code>"activity_time"</code>,
<code>"waiting_time"</code>, and <code>"flow_time"</code>. The <code>"activity_time"</code> is
the amount of time spent in active state (i.e., in <code>timeout</code> activities),
and it is already provided in the output of <code>get_mon_arrivals</code>. The
<code>"flow_time"</code> is the amount of time spent in the system, and it is
computed as follows: <code>flow = end_time - start_time</code>. Finally, the
<code>"waiting_time"</code> is the amount of time spent waiting (e.g., in resources'
queues, or due to a <code>wait</code> activity...), and it is computed as follows:
<code>waiting_time = flow_time - activity_time</code>. This method does not apply
any summary, but just shows a line plot of the values throughout the simulation.</p>
<p>The S3 method for 'attributes' does not support any metric. It simply
shows a stairstep graph of the values throughout the simulation for the keys
provided (or all the collected attributes if no key is provided).</p>
<p>The S3 method for 'resources' provides two metrics: <code>"usage"</code>
and <code>"utilization"</code>. The <code>"usage"</code> metric shows a line graph of
the cumulative average resource usage throughout the simulation, for each
resource, replication and item (by default, queue, server and system, which
is the sum of queue and server). If <code>steps=TRUE</code>, a stairstep graph with
the instantaneous values is provided instead. The <code>"utilization"</code> metric
shows a bar plot of the average resource utilization (total time in use
divided by the total simulation time). For multiple replications, the bar
represents the median, and the error bars represent the quartiles. Thus, if
a single replication is provided, the bar and the error bar coincide.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">t0</span> <span class="op">&lt;-</span> <span class="fu">trajectory</span><span class="op">(</span><span class="st">"my trajectory"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="co">## add an intake activity</span></span>
<span class="r-in">  <span class="fu">seize</span><span class="op">(</span><span class="st">"nurse"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="fu">timeout</span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">15</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="fu">release</span><span class="op">(</span><span class="st">"nurse"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="co">## add a consultation activity</span></span>
<span class="r-in">  <span class="fu">seize</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="fu">timeout</span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="fu">release</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="co">## add a planning activity</span></span>
<span class="r-in">  <span class="fu">seize</span><span class="op">(</span><span class="st">"administration"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="fu">timeout</span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="fu">release</span><span class="op">(</span><span class="st">"administration"</span>, <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">env</span> <span class="op">&lt;-</span> <span class="fu">simmer</span><span class="op">(</span><span class="st">"SuperDuperSim"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="fu">add_resource</span><span class="op">(</span><span class="st">"nurse"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="fu">add_resource</span><span class="op">(</span><span class="st">"doctor"</span>, <span class="fl">2</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="fu">add_resource</span><span class="op">(</span><span class="st">"administration"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="fu">add_generator</span><span class="op">(</span><span class="st">"patient"</span>, <span class="va">t0</span>, <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="fu">run</span><span class="op">(</span>until<span class="op">=</span><span class="fl">80</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">resources</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_mon.html">get_mon_resources</a></span><span class="op">(</span><span class="va">env</span><span class="op">)</span></span>
<span class="r-in"><span class="va">arrivals</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_mon.html">get_mon_arrivals</a></span><span class="op">(</span><span class="va">env</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">resources</span>, metric<span class="op">=</span><span class="st">"usage"</span>, <span class="st">"doctor"</span>, items <span class="op">=</span> <span class="st">"server"</span>, steps <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-plt img"><img src="plot.mon-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">resources</span>, metric<span class="op">=</span><span class="st">"utilization"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nurse"</span>, <span class="st">"doctor"</span>, <span class="st">"administration"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-plt img"><img src="plot.mon-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">arrivals</span>, metric<span class="op">=</span><span class="st">"waiting_time"</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `geom_smooth()` using method = 'loess' and formula 'y ~ x'</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>span too small.   fewer data values than degrees of freedom.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>at  52.015</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>radius  0.0055705</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>all data on boundary of neighborhood. make span bigger</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>pseudoinverse used at 52.015</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>neighborhood radius 0.074636</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>reciprocal condition number  1</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>at  67.092</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>radius  0.0055705</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>all data on boundary of neighborhood. make span bigger</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>There are other near singularities as well. 0.0055705</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>zero-width neighborhood. make span bigger</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>zero-width neighborhood. make span bigger</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Computation failed in `stat_smooth()`:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> NA/NaN/Inf in foreign function call (arg 5)</span>
<span class="r-plt img"><img src="plot.mon-3.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Iñaki Ucar, Bart Smeets.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.0.</p>
</div>

      </footer></div>

  


  

  </body></html>

