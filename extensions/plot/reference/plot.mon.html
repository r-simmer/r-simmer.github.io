<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot Methods for <code>simmer</code> Monitoring Statistics — plot.mon • simmer.plot</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Plot Methods for <code>simmer</code> Monitoring Statistics — plot.mon" />

<meta property="og:description" content="Methods for the plot generic. See below for details about each
metric available." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115358925-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115358925-1');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simmer.plot</a>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href=".././">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-gears"></span>
     
    Reference
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-graduation-cap"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/plot.simmer.html">Plotting simmer statistics</a>
    </li>
    <li>
      <a href="../articles/plot.trajectory.html">Plotting simmer trajectories</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li>
  <a href="https://github.com/r-simmer/simmer.plot">
    <span class="fa fa-github"></span>
     
    GitHub
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://r-simmer.org">
    <span class="fa fa-coffee"></span>
     
    simmer
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-puzzle-piece"></span>
     
    Extensions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../../plot">simmer.plot</a>
    </li>
    <li>
      <a href="../../bricks">simmer.bricks</a>
    </li>
    <li>
      <a href="https://github.com/r-simmer/simmer.optim">simmer.optim</a>
    </li>
    <li>
      <a href="https://github.com/r-simmer/simmer.json">simmer.json</a>
    </li>
  </ul>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot Methods for <code>simmer</code> Monitoring Statistics</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-simmer/simmer.plot/blob/master/R/plot.arrivals.R'><code>R/plot.arrivals.R</code></a>, <a href='https://github.com/r-simmer/simmer.plot/blob/master/R/plot.attributes.R'><code>R/plot.attributes.R</code></a>, <a href='https://github.com/r-simmer/simmer.plot/blob/master/R/plot.resources.R'><code>R/plot.resources.R</code></a>, and 2 more</small>
    <div class="hidden name"><code>plot.mon.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Methods for the <code>plot</code> generic. See below for details about each
metric available.</p>
    
    </div>

    <pre class="usage"><span class='co'># S3 method for arrivals</span>
<span class='fu'>plot</span>(<span class='no'>x</span>, <span class='kw'>metric</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"activity_time"</span>, <span class='st'>"waiting_time"</span>,
  <span class='st'>"flow_time"</span>), <span class='no'>...</span>)

<span class='co'># S3 method for attributes</span>
<span class='fu'>plot</span>(<span class='no'>x</span>, <span class='kw'>metric</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>keys</span>, <span class='no'>...</span>)

<span class='co'># S3 method for resources</span>
<span class='fu'>plot</span>(<span class='no'>x</span>, <span class='kw'>metric</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"usage"</span>, <span class='st'>"utilization"</span>), <span class='no'>names</span>,
  <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a data frame of class <code>arrivals</code>/<code>attributes</code>/<code>resources</code>
(see <code><a href='get_mon.html'>get_mon</a></code>).</p></td>
    </tr>
    <tr>
      <th>metric</th>
      <td><p>specific metric to compute.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>further arguments</p><dl class='dl-horizontal'>
  <dt><code>items</code>, for <code>plot.resources(metric="usage")</code></dt><dd><p>components of
  the resource to plot, one or more of <code>c("system", "queue", "server")</code>.</p></dd>
  <dt><code>steps</code>, for <code>plot.resources(metric="usage")</code></dt><dd><p>if <code>TRUE</code>,
  shows the instantaneous usage instead of the cumulative average.</p></dd>
</dl></td>
    </tr>
    <tr>
      <th>keys</th>
      <td><p>attributes to plot (if left empty, all attributes are shown).</p></td>
    </tr>
    <tr>
      <th>names</th>
      <td><p>resources to plot (if left empty, all resources are shown).</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a ggplot2 object.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The S3 method for 'arrivals' provides three metrics: <code>"activity_time"</code>,
<code>"waiting_time"</code>, and <code>"flow_time"</code>. The <code>"activity_time"</code> is
the amount of time spent in active state (i.e., in <code>timeout</code> activities),
and it is already provided in the output of <code>get_mon_arrivals</code>. The
<code>"flow_time"</code> is the amount of time spent in the system, and it is
computed as follows: <code>flow = end_time - start_time</code>. Finally, the
<code>"waiting_time"</code> is the amount of time spent waiting (e.g., in resources'
queues, or due to a <code>wait</code> activity...), and it is computed as follows:
<code>waiting_time = flow_time - activity_time</code>. This method does not apply
any summary, but just shows a line plot of the values throughout the simulation.</p>
<p>The S3 method for 'attributes' does not support any metric. It simply
shows a stairstep graph of the values throughout the simulation for the keys
provided (or all the collected attributes if no key is provided).</p>
<p>The S3 method for 'resources' provides two metrics: <code>"usage"</code>
and <code>"utilization"</code>. The <code>"usage"</code> metric shows a line graph of
the cumulative average resource usage throughout the simulation, for each
resource, replication and item (by default, queue, server and system, which
is the sum of queue and server). If <code>steps=TRUE</code>, a stairstep graph with
the instantaneous values is provided instead. The <code>"utilization"</code> metric
shows a bar plot of the average resource utilization (total time in use
divided by the total simulation time). For multiple replications, the bar
represents the median, and the error bars represent the quartiles. Thus, if
a single replication is provided, the bar and the error bar coincide.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>t0</span> <span class='kw'>&lt;-</span> <span class='fu'>trajectory</span>(<span class='st'>"my trajectory"</span>) <span class='kw'>%&gt;%</span>
  <span class='co'>## add an intake activity</span>
  <span class='fu'>seize</span>(<span class='st'>"nurse"</span>, <span class='fl'>1</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>timeout</span>(<span class='kw'>function</span>() <span class='fu'>rnorm</span>(<span class='fl'>1</span>, <span class='fl'>15</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'>release</span>(<span class='st'>"nurse"</span>, <span class='fl'>1</span>) <span class='kw'>%&gt;%</span>
  <span class='co'>## add a consultation activity</span>
  <span class='fu'>seize</span>(<span class='st'>"doctor"</span>, <span class='fl'>1</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>timeout</span>(<span class='kw'>function</span>() <span class='fu'>rnorm</span>(<span class='fl'>1</span>, <span class='fl'>20</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'>release</span>(<span class='st'>"doctor"</span>, <span class='fl'>1</span>) <span class='kw'>%&gt;%</span>
  <span class='co'>## add a planning activity</span>
  <span class='fu'>seize</span>(<span class='st'>"administration"</span>, <span class='fl'>1</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>timeout</span>(<span class='kw'>function</span>() <span class='fu'>rnorm</span>(<span class='fl'>1</span>, <span class='fl'>5</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'>release</span>(<span class='st'>"administration"</span>, <span class='fl'>1</span>)

<span class='no'>env</span> <span class='kw'>&lt;-</span> <span class='fu'>simmer</span>(<span class='st'>"SuperDuperSim"</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>add_resource</span>(<span class='st'>"nurse"</span>, <span class='fl'>1</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>add_resource</span>(<span class='st'>"doctor"</span>, <span class='fl'>2</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>add_resource</span>(<span class='st'>"administration"</span>, <span class='fl'>1</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>add_generator</span>(<span class='st'>"patient"</span>, <span class='no'>t0</span>, <span class='kw'>function</span>() <span class='fu'>rnorm</span>(<span class='fl'>1</span>, <span class='fl'>10</span>, <span class='fl'>2</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'>run</span>(<span class='kw'>until</span><span class='kw'>=</span><span class='fl'>80</span>)

<span class='no'>resources</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='get_mon.html'>get_mon_resources</a></span>(<span class='no'>env</span>)
<span class='no'>arrivals</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='get_mon.html'>get_mon_arrivals</a></span>(<span class='no'>env</span>)

<span class='fu'>plot</span>(<span class='no'>resources</span>, <span class='kw'>metric</span><span class='kw'>=</span><span class='st'>"usage"</span>, <span class='st'>"doctor"</span>, <span class='kw'>items</span> <span class='kw'>=</span> <span class='st'>"server"</span>, <span class='kw'>steps</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='img'><img src='plot.mon-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'>plot</span>(<span class='no'>resources</span>, <span class='kw'>metric</span><span class='kw'>=</span><span class='st'>"utilization"</span>, <span class='fu'>c</span>(<span class='st'>"nurse"</span>, <span class='st'>"doctor"</span>, <span class='st'>"administration"</span>))</div><div class='img'><img src='plot.mon-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'>plot</span>(<span class='no'>arrivals</span>, <span class='kw'>metric</span><span class='kw'>=</span><span class='st'>"waiting_time"</span>)</div><div class='output co'>#&gt; <span class='message'>`geom_smooth()` using method = 'loess' and formula 'y ~ x'</span></div><div class='output co'>#&gt; <span class='warning'>Warning: span too small.   fewer data values than degrees of freedom.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: pseudoinverse used at 49.089</span></div><div class='output co'>#&gt; <span class='warning'>Warning: neighborhood radius 9.4368</span></div><div class='output co'>#&gt; <span class='warning'>Warning: reciprocal condition number  0</span></div><div class='output co'>#&gt; <span class='warning'>Warning: There are other near singularities as well. 380.29</span></div><div class='output co'>#&gt; <span class='warning'>Warning: span too small.   fewer data values than degrees of freedom.</span></div><div class='output co'>#&gt; <span class='warning'>Warning: pseudoinverse used at 49.089</span></div><div class='output co'>#&gt; <span class='warning'>Warning: neighborhood radius 9.4368</span></div><div class='output co'>#&gt; <span class='warning'>Warning: reciprocal condition number  0</span></div><div class='output co'>#&gt; <span class='warning'>Warning: There are other near singularities as well. 380.29</span></div><div class='img'><img src='plot.mon-3.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Iñaki Ucar, Bart Smeets.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

