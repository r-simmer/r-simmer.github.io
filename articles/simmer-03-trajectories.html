<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced Trajectory Usage • simmer | DES for R</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Advanced Trajectory Usage">
<meta property="og:description" content="simmer">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115358925-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115358925-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simmer | DES for R</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.4.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href=".././">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-gears"></span>
     
    Reference
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-graduation-cap"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/simmer-01-introduction.html">Introduction to simmer</a>
    </li>
    <li>
      <a href="../articles/simmer-02-jss.pdf">JSS paper (PDF)</a>
    </li>
    <li>
      <a href="../articles/simmer-03-trajectories.html">Advanced Trajectory Usage</a>
    </li>
    <li>
      <a href="../articles/simmer-04-bank-1.html">The Bank Tutorial: Part I</a>
    </li>
    <li>
      <a href="../articles/simmer-04-bank-2.html">The Bank Tutorial: Part II</a>
    </li>
    <li>
      <a href="../articles/simmer-05-simpy.html">Other SimPy Examples</a>
    </li>
    <li>
      <a href="../articles/simmer-06-queueing.html">Queueing Systems</a>
    </li>
    <li>
      <a href="../articles/simmer-07-ctmc.html">Continuous-Time Markov Chains</a>
    </li>
    <li>
      <a href="../articles/simmer-08-philosophers.html">Dining Philosophers Problem</a>
    </li>
    <li>
      <a href="../articles/simmer-aa-5G.html">Design and Analysis of 5G Scenarios</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li>
  <a href="https://github.com/r-simmer/simmer">
    <span class="fa fa-github"></span>
     
    GitHub
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-puzzle-piece"></span>
     
    Extensions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../extensions/plot">simmer.plot</a>
    </li>
    <li>
      <a href="../extensions/bricks">simmer.bricks</a>
    </li>
    <li>
      <a href="https://github.com/r-simmer/simmer.optim">simmer.optim</a>
    </li>
    <li>
      <a href="https://github.com/r-simmer/simmer.json">simmer.json</a>
    </li>
    <li>
      <a href="https://github.com/r-simmer/simmer.mon">simmer.mon</a>
    </li>
  </ul>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Advanced Trajectory Usage</h1>
                        <h4 class="author">Iñaki Ucar, Bart Smeets</h4>
            
            <h4 class="date">2020-06-06</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/r-simmer/simmer/blob/master/vignettes/simmer-03-trajectories.Rmd"><code>vignettes/simmer-03-trajectories.Rmd</code></a></small>
      <div class="hidden name"><code>simmer-03-trajectories.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">simmer</span>)</pre></body></html></div>
<div id="available-set-of-activities" class="section level2">
<h2 class="hasAnchor">
<a href="#available-set-of-activities" class="anchor"></a>Available set of activities</h2>
<p>When a generator creates an arrival, it couples the arrival to a given trajectory. A trajectory is defined as an interlinkage of activities which together form the arrivals’ lifetime in the system. Once an arrival is coupled to the trajectory, it will (in general) start processing activities in the specified order and, eventually, leave the system. Consider the following:</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">traj</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/trajectory.html">trajectory</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/seize.html">seize</a></span>(<span class="kw">resource</span> <span class="kw">=</span> <span class="st">"doctor"</span>, <span class="kw">amount</span> <span class="kw">=</span> <span class="fl">1</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/timeout.html">timeout</a></span>(<span class="kw">task</span> <span class="kw">=</span> <span class="fl">3</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/seize.html">release</a></span>(<span class="kw">resource</span> <span class="kw">=</span> <span class="st">"doctor"</span>, <span class="kw">amount</span> <span class="kw">=</span> <span class="fl">1</span>)</pre></body></html></div>
<p>Here we create a trajectory where a patient <em>seizes</em> a doctor for 3 minutes and then <em>releases</em> him again. This is a very straightforward example, however, most of the trajectory-related functions allow for more advanced usage.</p>
<p>Usage examples are provided in the help page for each activity. The complete set of activities can be found and navigated in the <a href="https://r-simmer.org/reference/#section-add-activities-to-trajectories">reference page</a>, or you can list them as follows:</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/methods.html">methods</a></span>(<span class="kw">class</span><span class="kw">=</span><span class="st">"trajectory"</span>)
<span class="co">#&gt;  [1] [                       [[                      [[&lt;-                   </span>
<span class="co">#&gt;  [4] [&lt;-                     activate                batch                  </span>
<span class="co">#&gt;  [7] branch                  clone                   deactivate             </span>
<span class="co">#&gt; [10] get_n_activities        handle_unfinished       join                   </span>
<span class="co">#&gt; [13] leave                   length                  log_                   </span>
<span class="co">#&gt; [16] print                   release_all             release_selected_all   </span>
<span class="co">#&gt; [19] release_selected        release                 renege_abort           </span>
<span class="co">#&gt; [22] renege_if               renege_in               rep                    </span>
<span class="co">#&gt; [25] rollback                seize_selected          seize                  </span>
<span class="co">#&gt; [28] select                  send                    separate               </span>
<span class="co">#&gt; [31] set_attribute           set_capacity_selected   set_capacity           </span>
<span class="co">#&gt; [34] set_global              set_prioritization      set_queue_size_selected</span>
<span class="co">#&gt; [37] set_queue_size          set_source              set_trajectory         </span>
<span class="co">#&gt; [40] stop_if                 synchronize             timeout_from_attribute </span>
<span class="co">#&gt; [43] timeout                 trap                    untrap                 </span>
<span class="co">#&gt; [46] wait                   </span>
<span class="co">#&gt; see '?methods' for accessing help and source code</span></pre></body></html></div>
<p>Additionally, you may want to try the <code>simmer.bricks</code> package, a plugin for <code>simmer</code> which provides helper methods for trajectories. Each <em>brick</em> wraps a common activity pattern that can be used to build trajectories more conveniently (see the <a href="http://r-simmer.org/extensions/bricks/articles/introduction.html"><em>Introduction to <code>simmer.bricks</code></em></a>).</p>
</div>
<div id="dynamic-arguments" class="section level2">
<h2 class="hasAnchor">
<a href="#dynamic-arguments" class="anchor"></a>Dynamic arguments</h2>
<p>Many activities accept functions as arguments to be evaluated dynamically during the simulation. For example, see <code><a href="../reference/timeout.html">help(timeout)</a></code>:</p>
<blockquote>
<p>task: the timeout duration supplied by either passing a numeric or a callable object (a function) which must return a numeric.</p>
</blockquote>
<p>Be aware that if you want the <code><a href="../reference/timeout.html">timeout()</a></code>’s <code>task</code> parameter to be evaluated dynamically, you should supply a callable function. For example in <code><a href="../reference/timeout.html">timeout(function() rexp(1, 10))</a></code>, <code><a href="https://rdrr.io/r/stats/Exponential.html">rexp(1, 10)</a></code> will be evaluated every time the timeout activity is executed. However, if you supply it in the form of <code><a href="../reference/timeout.html">timeout(rexp(1, 10))</a></code>, it will only be evaluated once when the trajectory is defined, and will remain static after that.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="../reference/trajectory.html">trajectory</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/timeout.html">timeout</a></span>(<span class="fu"><a href="https://rdrr.io/r/stats/Exponential.html">rexp</a></span>(<span class="fl">1</span>, <span class="fl">10</span>)) <span class="kw">%&gt;%</span>        <span class="co"># fixed</span>
  <span class="fu"><a href="../reference/timeout.html">timeout</a></span>(<span class="kw">function</span>() <span class="fu"><a href="https://rdrr.io/r/stats/Exponential.html">rexp</a></span>(<span class="fl">1</span>, <span class="fl">10</span>)) <span class="co"># dynamic</span>
<span class="co">#&gt; trajectory: anonymous, 2 activities</span>
<span class="co">#&gt; { Activity: Timeout      | delay: 0.153938 }</span>
<span class="co">#&gt; { Activity: Timeout      | delay: function() }</span></pre></body></html></div>
<p>Of course, this <code>task</code>, supplied as a function, may be as complex as you need and, for instance, it may check the status of a particular resource, interact with other entities in your simulation model… The same applies to all the activities when they accept a function as a parameter.</p>
</div>
<div id="interaction-with-the-environment" class="section level2">
<h2 class="hasAnchor">
<a href="#interaction-with-the-environment" class="anchor"></a>Interaction with the environment</h2>
<p>Dynamic arguments may interact with the environment to extract parameters of interest such as the current simulation time (see <code><a href="../reference/now.html">?now</a></code>), status of resources (see <code><a href="../reference/get_capacity.html">?get_capacity</a></code>), status of generators (see <code><a href="../reference/get_n_generated.html">?get_n_generated</a></code>), or directly to gather the history of monitored values (see <code><a href="../reference/get_mon.html">?get_mon</a></code>). The only requirement is that the simulation environment must be in the scope of the trajectory.</p>
<p>Therefore, this will not work:</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">traj</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/trajectory.html">trajectory</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/log_.html">log_</a></span>(<span class="kw">function</span>() <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(<span class="fu"><a href="../reference/now.html">now</a></span>(<span class="no">env</span>)))

<span class="no">env</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/simmer.html">simmer</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/add_generator.html">add_generator</a></span>(<span class="st">"dummy"</span>, <span class="no">traj</span>, <span class="kw">function</span>() <span class="fl">1</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/run.html">run</a></span>(<span class="fl">4</span>)
<span class="co">#&gt; 1: dummy0:</span>
<span class="co">#&gt; Error in now(env): object 'env' not found</span></pre></body></html></div>
<p>because the global <code>env</code> is not available at runtime: the simulation runs <em>and then</em> the resulting object is assigned to <code>env</code>. For <code>env</code> to be in the scope of <code>t</code> during this simulation, it is enough to detach the <code><a href="../reference/run.html">run()</a></code> method from the definition pipe:</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">traj</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/trajectory.html">trajectory</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/log_.html">log_</a></span>(<span class="kw">function</span>() <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(<span class="fu"><a href="../reference/now.html">now</a></span>(<span class="no">env</span>)))

<span class="no">env</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/simmer.html">simmer</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/add_generator.html">add_generator</a></span>(<span class="st">"dummy"</span>, <span class="no">traj</span>, <span class="kw">function</span>() <span class="fl">1</span>)

<span class="no">env</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="../reference/run.html">run</a></span>(<span class="fl">4</span>) <span class="kw">%&gt;%</span> <span class="no">invisible</span>
<span class="co">#&gt; 1: dummy0: 1</span>
<span class="co">#&gt; 2: dummy1: 2</span>
<span class="co">#&gt; 3: dummy2: 3</span></pre></body></html></div>
<p>And we get the expected output. However, as a general rule of good practice, <strong>it is recommended to instantiate the environment always in the first place</strong> to avoid possible mistakes, and because the code becomes more readable:</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="co"># first, instantiate the environment</span>
<span class="no">env</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/simmer.html">simmer</a></span>()

<span class="co"># here I'm using it</span>
<span class="no">traj</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/trajectory.html">trajectory</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/log_.html">log_</a></span>(<span class="kw">function</span>() <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(<span class="fu"><a href="../reference/now.html">now</a></span>(<span class="no">env</span>)))

<span class="co"># and finally, run it</span>
<span class="no">env</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/add_generator.html">add_generator</a></span>(<span class="st">"dummy"</span>, <span class="no">traj</span>, <span class="kw">function</span>() <span class="fl">1</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/run.html">run</a></span>(<span class="fl">4</span>) <span class="kw">%&gt;%</span> <span class="no">invisible</span>
<span class="co">#&gt; 1: dummy0: 1</span>
<span class="co">#&gt; 2: dummy1: 2</span>
<span class="co">#&gt; 3: dummy2: 3</span></pre></body></html></div>
</div>
<div id="trajectory-toolbox-joining-and-subsetting" class="section level2">
<h2 class="hasAnchor">
<a href="#trajectory-toolbox-joining-and-subsetting" class="anchor"></a>Trajectory toolbox: joining and subsetting</h2>
<p>The <code><a href="../reference/join.html">join(...)</a></code> method is very useful to concatenate together any number of trajectories. It may be used as a standalone function as follows:</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">t1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/trajectory.html">trajectory</a></span>() <span class="kw">%&gt;%</span> <span class="fu"><a href="../reference/seize.html">seize</a></span>(<span class="st">"dummy"</span>, <span class="fl">1</span>)
<span class="no">t2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/trajectory.html">trajectory</a></span>() <span class="kw">%&gt;%</span> <span class="fu"><a href="../reference/timeout.html">timeout</a></span>(<span class="fl">1</span>)
<span class="no">t3</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/trajectory.html">trajectory</a></span>() <span class="kw">%&gt;%</span> <span class="fu"><a href="../reference/seize.html">release</a></span>(<span class="st">"dummy"</span>, <span class="fl">1</span>)

<span class="no">t0</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/join.html">join</a></span>(<span class="no">t1</span>, <span class="no">t2</span>, <span class="no">t3</span>)
<span class="no">t0</span>
<span class="co">#&gt; trajectory: anonymous, 3 activities</span>
<span class="co">#&gt; { Activity: Seize        | resource: dummy, amount: 1 }</span>
<span class="co">#&gt; { Activity: Timeout      | delay: 1 }</span>
<span class="co">#&gt; { Activity: Release      | resource: dummy, amount: 1 }</span></pre></body></html></div>
<p>Or it may operate inline, like another activity:</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">t0</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/trajectory.html">trajectory</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/join.html">join</a></span>(<span class="no">t1</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/timeout.html">timeout</a></span>(<span class="fl">1</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/join.html">join</a></span>(<span class="no">t3</span>)
<span class="no">t0</span>
<span class="co">#&gt; trajectory: anonymous, 3 activities</span>
<span class="co">#&gt; { Activity: Seize        | resource: dummy, amount: 1 }</span>
<span class="co">#&gt; { Activity: Timeout      | delay: 1 }</span>
<span class="co">#&gt; { Activity: Release      | resource: dummy, amount: 1 }</span></pre></body></html></div>
<p>You can think about a trajectory object as a list of activities that has a length</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span>(<span class="no">t0</span>)
<span class="co">#&gt; [1] 3</span></pre></body></html></div>
<p>and can be subset using the standard operator <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code>. For instance, you can select the activities you want with a logical vector:</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">t0</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">TRUE</span>, <span class="fl">FALSE</span>, <span class="fl">TRUE</span>)]
<span class="co">#&gt; trajectory: anonymous, 2 activities</span>
<span class="co">#&gt; { Activity: Seize        | resource: dummy, amount: 1 }</span>
<span class="co">#&gt; { Activity: Release      | resource: dummy, amount: 1 }</span></pre></body></html></div>
<p>Or a set of indices that respect the order given:</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="no">t0</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">3</span>)]
<span class="co">#&gt; trajectory: anonymous, 2 activities</span>
<span class="co">#&gt; { Activity: Seize        | resource: dummy, amount: 1 }</span>
<span class="co">#&gt; { Activity: Release      | resource: dummy, amount: 1 }</span>
<span class="no">t0</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">3</span>, <span class="fl">1</span>)]
<span class="co">#&gt; trajectory: anonymous, 2 activities</span>
<span class="co">#&gt; { Activity: Release      | resource: dummy, amount: 1 }</span>
<span class="co">#&gt; { Activity: Seize        | resource: dummy, amount: 1 }</span></pre></body></html></div>
<p>Or a set of indices to remove from the selection:</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="no">t0</span>[-<span class="fl">2</span>]
<span class="co">#&gt; trajectory: anonymous, 2 activities</span>
<span class="co">#&gt; { Activity: Seize        | resource: dummy, amount: 1 }</span>
<span class="co">#&gt; { Activity: Release      | resource: dummy, amount: 1 }</span></pre></body></html></div>
<p>Or by name, but note that this does <strong>not</strong> respect the order given though, because it performs a match:</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="no">t0</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"seize"</span>, <span class="st">"release"</span>)]
<span class="co">#&gt; trajectory: anonymous, 2 activities</span>
<span class="co">#&gt; { Activity: Seize        | resource: dummy, amount: 1 }</span>
<span class="co">#&gt; { Activity: Release      | resource: dummy, amount: 1 }</span>
<span class="no">t0</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"release"</span>, <span class="st">"seize"</span>)]
<span class="co">#&gt; trajectory: anonymous, 2 activities</span>
<span class="co">#&gt; { Activity: Seize        | resource: dummy, amount: 1 }</span>
<span class="co">#&gt; { Activity: Release      | resource: dummy, amount: 1 }</span></pre></body></html></div>
<p>If you provide no indices, the whole trajectory is returned:</p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="no">t0</span>[]
<span class="co">#&gt; trajectory: anonymous, 3 activities</span>
<span class="co">#&gt; { Activity: Seize        | resource: dummy, amount: 1 }</span>
<span class="co">#&gt; { Activity: Timeout      | delay: 1 }</span>
<span class="co">#&gt; { Activity: Release      | resource: dummy, amount: 1 }</span></pre></body></html></div>
<p>In fact, you are <strong>cloning</strong> the trajectory with the latter command. It is equivalent to <code>t0[1:length(t0)]</code> or <code><a href="../reference/join.html">join(t0)</a></code>.</p>
<p>The generics <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> and <code><a href="https://rdrr.io/r/utils/head.html">tail()</a></code> use the <code><a href="https://rdrr.io/r/base/Extract.html">[</a></code> operator under the hood, thus you can use them as well:</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">t0</span>, <span class="fl">2</span>)
<span class="co">#&gt; trajectory: anonymous, 2 activities</span>
<span class="co">#&gt; { Activity: Seize        | resource: dummy, amount: 1 }</span>
<span class="co">#&gt; { Activity: Timeout      | delay: 1 }</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>(<span class="no">t0</span>, -<span class="fl">1</span>)
<span class="co">#&gt; trajectory: anonymous, 2 activities</span>
<span class="co">#&gt; { Activity: Timeout      | delay: 1 }</span>
<span class="co">#&gt; { Activity: Release      | resource: dummy, amount: 1 }</span></pre></body></html></div>
<p>The <code><a href="https://rdrr.io/r/base/Extract.html">[[</a></code> operator can also be used to extract <strong>only one</strong> element:</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="no">t0</span><span class="kw">[[</span><span class="fl">2</span>]]
<span class="co">#&gt; trajectory: anonymous, 1 activities</span>
<span class="co">#&gt; { Activity: Timeout      | delay: 1 }</span></pre></body></html></div>
<p>which is equivalent to <code>t0[2]</code>. If a string is provided, it ensures that only the first match is returned:</p>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="fu"><a href="../reference/join.html">join</a></span>(<span class="no">t0</span>, <span class="no">t0</span>)[<span class="st">"timeout"</span>]
<span class="co">#&gt; trajectory: anonymous, 2 activities</span>
<span class="co">#&gt; { Activity: Timeout      | delay: 1 }</span>
<span class="co">#&gt; { Activity: Timeout      | delay: 1 }</span>
<span class="fu"><a href="../reference/join.html">join</a></span>(<span class="no">t0</span>, <span class="no">t0</span>)<span class="kw">[[</span><span class="st">"timeout"</span>]]
<span class="co">#&gt; trajectory: anonymous, 1 activities</span>
<span class="co">#&gt; { Activity: Timeout      | delay: 1 }</span></pre></body></html></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Iñaki Ucar, Bart Smeets.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
