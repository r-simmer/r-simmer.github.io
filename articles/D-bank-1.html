<!DOCTYPE html>
<!-- Generated by staticdocs: do not edit by hand --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>The Bank Tutorial: Part I. simmer | DES for R</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><!-- staticdocs --><link href="../staticdocs.css" rel="stylesheet"><script src="../staticdocs.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]--></head><body>
    <div class="container">
        <header><div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">simmer | DES for R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-gears"></span>
     
    Reference
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-graduation-cap"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/A-introduction.html">Introduction to simmer</a>
    </li>
    <li>
      <a href="../articles/B-terminology.html">Terminology</a>
    </li>
    <li>
      <a href="../articles/C-trajectories.html">Advanced trajectory usage</a>
    </li>
    <li>
      <a href="../articles/D-bank-1.html">The Bank Tutorial: Part I</a>
    </li>
    <li>
      <a href="../articles/E-queueing-systems.html">Queueing systems</a>
    </li>
    <li>
      <a href="../articles/F-ctmc.html">Continuous-Time Markov Chains</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li>
  <a href="https://github.com/r-simmer/simmer">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
        
        </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>The Bank Tutorial: Part I</h1>
                        <h4 class="author">Duncan Garmonsway</h4>
            
            <h4 class="date">2016-10-06</h4>
          </div>

    
    
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>This tutorial is adapted from a tutorial for the Python 2 package &lsquo;SimPy&rsquo;, <a href="https://pythonhosted.org/SimPy/Tutorials/TheBank.html">here</a>. Users familiar with SimPy may find this tutorial helpful for transitioning to simmer. Some very basic material is not covered. Beginners should first read the vignettes &lsquo;Introduction&rsquo;, &lsquo;Terminology&rsquo; and &lsquo;Trajectories&rsquo;.</p>
</div>
<div id="a-single-customer" class="section level2">
<h2>A single customer</h2>
<p>In this tutorial we model a simple bank with customers arriving at random. We develop the model step-by-step, starting out simply, and producing a running program at each stage.</p>
<p>A simulation should always be developed to answer a specific question; in these models we investigate how changing the number of bank servers or tellers might affect the waiting time for customers.</p>
<div id="a-customer-arriving-at-a-fixed-time" class="section level3">
<h3>A customer arriving at a fixed time</h3>
<p>We first model a single customer who arrives at the bank for a visit, looks around at the decor for a time and then leaves. There is no queueing. First we will assume his arrival time and the time he spends in the bank are fixed.</p>
<p>The arrival time is fixed at 5, and the time spent in the bank is fixed at 10. We interpret &lsquo;5&rsquo; and &lsquo;10&rsquo; as &lsquo;5 minutes&rsquo; and &lsquo;10 minutes&rsquo;. The simulation runs for a maximum of 100 minutes, or until all the customers that are generated complete their trajectories.</p>
<p>Note where these constants appear in the code below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(simmer)

customer &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/create_trajectory.html">create_trajectory</a></span>(<span class="st">"Customer's path"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/timeout.html">timeout</a></span>(<span class="dv">10</span>) 

bank &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/simmer.html">simmer</a></span>(<span class="st">"bank"</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/add_generator.html">add_generator</a></span>(<span class="st">"Customer"</span>, customer, <span class="kw"><a href="../reference/at.html">at</a></span>(<span class="dv">5</span>))

bank %&gt;%<span class="st"> </span><span class="kw"><a href="../reference/run.html">run</a></span>(<span class="dt">until =</span> <span class="dv">100</span>) 
<span class="co">#&gt; simmer environment: bank | now: 15 | next: </span>
<span class="co">#&gt; { Generator: Customer | monitored: 1 | n_generated: 1 }</span>
bank %&gt;%<span class="st"> </span>get_mon_arrivals
<span class="co">#&gt;        name start_time end_time activity_time finished replication</span>
<span class="co">#&gt; 1 Customer0          5       15            10     TRUE           1</span></code></pre></div>
<p>The short trace printed out by the <code>get_mon_arrivals</code> function shows the result. The program finishes at simulation time 15 because there are no further events to be executed. At the end of the visit, the customer has no more actions and no other objects or customers are active.</p>
</div>
<div id="a-customer-arriving-at-random" class="section level3">
<h3>A customer arriving at random</h3>
<p>Now we extend the model to allow our customer to arrive at a random simulated time though we will keep the time in the bank at 10, as before.</p>
<p>The change occurs in the arguments to the <code>add_generator</code> function. The function <code>rexp</code> draws from an exponential distribution with the given parameter, which in this case is <code>1/5</code>. See <code>?rexp</code> for more details. We also seed the random number generator with 10211 so that the same sequence of random numbers will be drawn every time the script is run.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(simmer)

<span class="kw">set.seed</span>(<span class="dv">10212</span>)

customer &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/create_trajectory.html">create_trajectory</a></span>(<span class="st">"Customer's path"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/timeout.html">timeout</a></span>(<span class="dv">10</span>) 

bank &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/simmer.html">simmer</a></span>(<span class="st">"bank"</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/add_generator.html">add_generator</a></span>(<span class="st">"Customer"</span>, customer, <span class="kw"><a href="../reference/at.html">at</a></span>(<span class="kw">rexp</span>(<span class="dv">1</span>, <span class="dv">1</span>/<span class="dv">5</span>)))

bank %&gt;%<span class="st"> </span><span class="kw"><a href="../reference/run.html">run</a></span>(<span class="dt">until =</span> <span class="dv">100</span>) 
<span class="co">#&gt; simmer environment: bank | now: 17.8393046225526 | next: </span>
<span class="co">#&gt; { Generator: Customer | monitored: 1 | n_generated: 1 }</span>
bank %&gt;%<span class="st"> </span>get_mon_arrivals
<span class="co">#&gt;        name start_time end_time activity_time finished replication</span>
<span class="co">#&gt; 1 Customer0   7.839305  17.8393            10     TRUE           1</span></code></pre></div>
<p>The trace shows that the customer now arrives at time 7.839305. Changing the seed value would change that time.</p>
</div>
<div id="more-customers" class="section level3">
<h3>More customers</h3>
<p>Our simulation does little so far. To consider a simulation with several customers we return to the simple deterministic model and add more customers.</p>
<p>The program is almost as easy as the first example (A customer arriving at a fixed time). The main change is in the <code>add_generator</code> function, where we generate three customers by defining three start times. We also increase the maximum simulation time to 400 in the <code>run</code> function. Observe that we need only one definition of the customer trajectory, and generate several customers who follow that trajectory. These customers act quite independently in this model.</p>
<p>Each customer also stays in the bank for a different, but non-random, amount of time. This is an unusual case, so it requires an unusual bit of R code. The <code>timeout</code> function accepts either a constant waiting time, or a function that is called once per customer and returns a single value (e.g. <code>rexp(1, 1/10)</code>). So we need to create a function that returns a different, but specific, value each time it is called. We define a function called <code>loop</code> to do this. The <code>loop</code> function returns another function. In the example, we store that function under the name <code>x</code>. When called, the function <code>x</code> returns one of (in the example) 10, 7, and 20, in sequence, wrapping around when it is called a fourth time.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Function to specify a series of waiting times, that loop around</span>
loop &lt;-<span class="st"> </span>function(...) {
    time_diffs &lt;-<span class="st"> </span><span class="kw">c</span>(...)
    i &lt;-<span class="st"> </span><span class="dv">0</span>
    function() {        
      if (i &lt;<span class="st"> </span><span class="kw">length</span>(time_diffs)) {     
        i &lt;&lt;-<span class="st"> </span>i<span class="dv">+1</span>       
      } else {      
        i &lt;&lt;-<span class="st"> </span><span class="dv">1</span>     
      }     
      <span class="kw">return</span>(time_diffs[i])     
    }       
  }

x &lt;-<span class="st"> </span><span class="kw">loop</span>(<span class="dv">10</span>, <span class="dv">7</span>, <span class="dv">20</span>)
<span class="kw">x</span>(); <span class="kw">x</span>(); <span class="kw">x</span>(); <span class="kw">x</span>(); <span class="kw">x</span>()
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; [1] 7</span>
<span class="co">#&gt; [1] 20</span>
<span class="co">#&gt; [1] 10</span>
<span class="co">#&gt; [1] 7</span></code></pre></div>
<p>The technical term for the <code>loop</code> function is a &lsquo;closure&rsquo;. How closures work is beyond the scope of this vignette; if you wish to learn more, then <a href="http://adv-r.had.co.nz/Functional-programming.html#closures">Advanced R</a> by Hadley Wickam has a good explanation.</p>
<p>When we use <code>loop</code> in the <code>timeout</code> function, we don&rsquo;t need to assign its output to a name; it can be an &lsquo;anonymous&rsquo; function. It will be called whenever a customer is about to wait and needs to know how long to wait for. Because only three customers are generated, and their first step is the timeout step, they are assigned 10, 7, and 20 in order.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(simmer)

<span class="co"># Function to specify a series of waiting times in a loop</span>
loop &lt;-<span class="st"> </span>function(...) {
    time_diffs &lt;-<span class="st"> </span><span class="kw">c</span>(...)
    i &lt;-<span class="st"> </span><span class="dv">0</span>
    function() {        
      if (i &lt;<span class="st"> </span><span class="kw">length</span>(time_diffs)) {     
        i &lt;&lt;-<span class="st"> </span>i<span class="dv">+1</span>       
      } else {      
        i &lt;&lt;-<span class="st"> </span><span class="dv">1</span>     
      }     
      <span class="kw">return</span>(time_diffs[i])     
    }       
  }

customer &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/create_trajectory.html">create_trajectory</a></span>(<span class="st">"Customer's path"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/timeout.html">timeout</a></span>(<span class="kw">loop</span>(<span class="dv">10</span>, <span class="dv">7</span>, <span class="dv">20</span>))

bank &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/simmer.html">simmer</a></span>(<span class="st">"bank"</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/add_generator.html">add_generator</a></span>(<span class="st">"Customer"</span>, customer, <span class="kw"><a href="../reference/at.html">at</a></span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">12</span>))

bank %&gt;%<span class="st"> </span><span class="kw"><a href="../reference/run.html">run</a></span>(<span class="dt">until =</span> <span class="dv">400</span>) 
<span class="co">#&gt; simmer environment: bank | now: 32 | next: </span>
<span class="co">#&gt; { Generator: Customer | monitored: 1 | n_generated: 3 }</span>
bank %&gt;%<span class="st"> </span>get_mon_arrivals
<span class="co">#&gt;        name start_time end_time activity_time finished replication</span>
<span class="co">#&gt; 1 Customer0          2       12            10     TRUE           1</span>
<span class="co">#&gt; 2 Customer1          5       12             7     TRUE           1</span>
<span class="co">#&gt; 3 Customer2         12       32            20     TRUE           1</span></code></pre></div>
<p>Again the simulation finishes before the 400 specified in the <code>run</code> function.</p>
</div>
<div id="many-customers" class="section level3">
<h3>Many customers</h3>
<p>Another change will allow us to have more customers. And use a separate Source class to create and activate them. To make things clearer we do not use random numbers in this model.</p>
<p>The change is in the <code>add_generator</code> function, where we create a sequence of start times for five customers, starting at time 0, with an interval of 10 between each customer. The -1 is a flag to stop the generator. An idiosyncracy of the syntax is that this argument must be a function, hence <code>function() {c(first time, interarrival times, -1)}</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(simmer)

customer &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/create_trajectory.html">create_trajectory</a></span>(<span class="st">"Customer's path"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/timeout.html">timeout</a></span>(<span class="dv">12</span>) 

bank &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/simmer.html">simmer</a></span>(<span class="st">"bank"</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/add_generator.html">add_generator</a></span>(<span class="st">"Customer"</span>, customer, 
                function() {<span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">rep</span>(<span class="dv">10</span>, <span class="dv">4</span>), -<span class="dv">1</span>)}) <span class="co"># every 10 starting at 0 for 5 customers</span>

bank %&gt;%<span class="st"> </span><span class="kw"><a href="../reference/run.html">run</a></span>(<span class="dt">until =</span> <span class="dv">400</span>) 
<span class="co">#&gt; simmer environment: bank | now: 52 | next: </span>
<span class="co">#&gt; { Generator: Customer | monitored: 1 | n_generated: 5 }</span>
bank %&gt;%<span class="st"> </span>get_mon_arrivals
<span class="co">#&gt;        name start_time end_time activity_time finished replication</span>
<span class="co">#&gt; 1 Customer0          0       12            12     TRUE           1</span>
<span class="co">#&gt; 2 Customer1         10       22            12     TRUE           1</span>
<span class="co">#&gt; 3 Customer2         20       32            12     TRUE           1</span>
<span class="co">#&gt; 4 Customer3         30       42            12     TRUE           1</span>
<span class="co">#&gt; 5 Customer4         40       52            12     TRUE           1</span></code></pre></div>
</div>
<div id="many-random-customers" class="section level3">
<h3>Many random customers</h3>
<p>We now extend this model to allow arrivals at random. In simulation this is usually interpreted as meaning that the times between customer arrivals are distributed as exponential random variates. There is little change in our program. The only difference between this and the previous example of a single customer generated at a random time is that this example generates several customers at different randome times.</p>
<p>The change occurs in the arguments to the <code>add_generator</code> function. The function <code>rexp</code> draws from an exponential distribution with the given parameter, which in this case is <code>1/10</code>. See <code>?rexp</code> for more details. We also seed the random number generator with 1289 so that the same sequence of random numbers will be drawn every time the script is run. The 0 is the time of the first customer, then the random interarrival times are drawn, and then -1 stops the generator.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(simmer)

<span class="kw">set.seed</span>(<span class="dv">1289</span>)

customer &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/create_trajectory.html">create_trajectory</a></span>(<span class="st">"Customer's path"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/timeout.html">timeout</a></span>(<span class="dv">12</span>) 

bank &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/simmer.html">simmer</a></span>(<span class="st">"bank"</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/add_generator.html">add_generator</a></span>(<span class="st">"Customer"</span>, customer, function() {<span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">rexp</span>(<span class="dv">4</span>, <span class="dv">1</span>/<span class="dv">10</span>), -<span class="dv">1</span>)})

bank %&gt;%<span class="st"> </span><span class="kw"><a href="../reference/run.html">run</a></span>(<span class="dt">until =</span> <span class="dv">400</span>) 
<span class="co">#&gt; simmer environment: bank | now: 50.2705868901582 | next: </span>
<span class="co">#&gt; { Generator: Customer | monitored: 1 | n_generated: 5 }</span>
bank %&gt;%<span class="st"> </span>get_mon_arrivals
<span class="co">#&gt;        name start_time end_time activity_time finished replication</span>
<span class="co">#&gt; 1 Customer0    0.00000 12.00000            12     TRUE           1</span>
<span class="co">#&gt; 2 Customer1   14.31136 26.31136            12     TRUE           1</span>
<span class="co">#&gt; 3 Customer2   26.55882 38.55882            12     TRUE           1</span>
<span class="co">#&gt; 4 Customer3   35.85064 47.85064            12     TRUE           1</span>
<span class="co">#&gt; 5 Customer4   38.27059 50.27059            12     TRUE           1</span></code></pre></div>
</div>
</div>
<div id="a-service-counter" class="section level2">
<h2>A Service counter</h2>
<p>So far, the model has been more like an art gallery, the customers entering, looking around, and leaving. Now they are going to require service from the bank clerk. We extend the model to include a service counter that will be modelled as a &lsquo;resource&rsquo;. The actions of a Resource are simple: a customer requests a unit of the resource (a clerk). If one is free, then the customer gets service (and the unit is no longer available to other customers). If there is no free clerk, then the customer joins the queue (managed by the resource object) until it is the customer&rsquo;s turn to be served. As each customer completes service and releases the unit, the clerk can start serving the next in line.</p>
<div id="one-service-counter" class="section level3">
<h3>One Service counter</h3>
<p>The service counter is created with the <code>add_resource</code> function. Default arguments specify that it can serve one customer at a time, and has infinite queueing capacity.</p>
<p>The <code>seize</code> function causes the customer to join the queue at the counter. If the queue is empty and the counter is available (not serving any customers), then the customer claims the counter for itself and moves onto the <code>timeout</code> step. Otherwise the customer must wait until the counter becomes available. Behaviour of the customer while in the queue is controlled by the arguments of the <code>seize</code> function, rather than by any other functions. Once the <code>timeout</code> step is complete, the <code>release</code> function causes the customer to make the counter available to other customers in the queue.</p>
<p>Since the activity trace does not produce the waiting time by default, this is calculated and appended using the <code>mutate</code> function in the dplyr package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">library</span>(simmer)

<span class="kw">set.seed</span>(<span class="dv">99999</span>)

customer &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/create_trajectory.html">create_trajectory</a></span>(<span class="st">"Customer's path"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/seize.html">seize</a></span>(<span class="st">"counter"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/timeout.html">timeout</a></span>(<span class="dv">12</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/seize.html">release</a></span>(<span class="st">"counter"</span>)

bank &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/simmer.html">simmer</a></span>(<span class="st">"bank"</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/add_resource.html">add_resource</a></span>(<span class="st">"counter"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/add_generator.html">add_generator</a></span>(<span class="st">"Customer"</span>, customer, function() {<span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">rexp</span>(<span class="dv">4</span>, <span class="dv">1</span>/<span class="dv">10</span>), -<span class="dv">1</span>)})

bank %&gt;%<span class="st"> </span><span class="kw"><a href="../reference/run.html">run</a></span>(<span class="dt">until =</span> <span class="dv">400</span>) 
<span class="co">#&gt; simmer environment: bank | now: 60 | next: </span>
<span class="co">#&gt; { Resource: counter | monitored: 1 | server status: 0(1) | queue status: 0(Inf) }</span>
<span class="co">#&gt; { Generator: Customer | monitored: 1 | n_generated: 5 }</span>
bank %&gt;%<span class="st"> </span>
<span class="st">  </span>get_mon_arrivals %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">waiting_time =</span> end_time -<span class="st"> </span>start_time -<span class="st"> </span>activity_time)
<span class="co">#&gt;        name start_time end_time activity_time finished replication</span>
<span class="co">#&gt; 1 Customer0    0.00000       12            12     TRUE           1</span>
<span class="co">#&gt; 2 Customer1   10.34073       24            12     TRUE           1</span>
<span class="co">#&gt; 3 Customer2   13.03443       36            12     TRUE           1</span>
<span class="co">#&gt; 4 Customer3   31.65036       48            12     TRUE           1</span>
<span class="co">#&gt; 5 Customer4   46.04056       60            12     TRUE           1</span>
<span class="co">#&gt;   waiting_time</span>
<span class="co">#&gt; 1     0.000000</span>
<span class="co">#&gt; 2     1.659269</span>
<span class="co">#&gt; 3    10.965568</span>
<span class="co">#&gt; 4     4.349641</span>
<span class="co">#&gt; 5     1.959439</span></code></pre></div>
<p>Examining the trace we see that the first customer gets instant service but the others have to wait. We still only have five customers, so we cannot draw general conclusions.</p>
</div>
<div id="a-server-with-a-random-service-time" class="section level3">
<h3>A server with a random service time</h3>
<p>This is a simple change to the model in that we retain the single service counter but make the customer service time a random variable. As is traditional in the study of simple queues we first assume an exponential service time.</p>
<p>Note that the argument to <code>timeout</code> must be a function, otherwise it would apply a constant timeout to every customer.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">library</span>(simmer)

<span class="kw">set.seed</span>(<span class="dv">99999</span>)

customer &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/create_trajectory.html">create_trajectory</a></span>(<span class="st">"Customer's path"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/seize.html">seize</a></span>(<span class="st">"counter"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/timeout.html">timeout</a></span>(function() {<span class="kw">rexp</span>(<span class="dv">1</span>, <span class="dv">1</span>/<span class="dv">12</span>)}) %&gt;%
<span class="st">  </span><span class="co"># timeout(rexp(1, 1/12)) %&gt;% # This line would use the same time for everyone</span>
<span class="st">  </span><span class="kw"><a href="../reference/seize.html">release</a></span>(<span class="st">"counter"</span>)

bank &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/simmer.html">simmer</a></span>(<span class="st">"bank"</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/add_resource.html">add_resource</a></span>(<span class="st">"counter"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/add_generator.html">add_generator</a></span>(<span class="st">"Customer"</span>, customer, function() {<span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">rexp</span>(<span class="dv">4</span>, <span class="dv">1</span>/<span class="dv">10</span>), -<span class="dv">1</span>)})

bank %&gt;%<span class="st"> </span><span class="kw"><a href="../reference/run.html">run</a></span>(<span class="dt">until =</span> <span class="dv">400</span>) 
<span class="co">#&gt; simmer environment: bank | now: 57.0052703780482 | next: </span>
<span class="co">#&gt; { Resource: counter | monitored: 1 | server status: 0(1) | queue status: 0(Inf) }</span>
<span class="co">#&gt; { Generator: Customer | monitored: 1 | n_generated: 5 }</span>
bank %&gt;%<span class="st"> </span>
<span class="st">  </span>get_mon_arrivals %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">waiting_time =</span> end_time -<span class="st"> </span>start_time -<span class="st"> </span>activity_time)
<span class="co">#&gt;        name start_time end_time activity_time finished replication</span>
<span class="co">#&gt; 1 Customer0    0.00000  6.24161      6.241610     TRUE           1</span>
<span class="co">#&gt; 2 Customer1   10.34073 19.05906      8.718329     TRUE           1</span>
<span class="co">#&gt; 3 Customer2   13.03443 20.08416      1.025096     TRUE           1</span>
<span class="co">#&gt; 4 Customer3   31.65036 47.58293     15.932568     TRUE           1</span>
<span class="co">#&gt; 5 Customer4   46.04056 57.00527      9.422343     TRUE           1</span>
<span class="co">#&gt;   waiting_time</span>
<span class="co">#&gt; 1     0.000000</span>
<span class="co">#&gt; 2     0.000000</span>
<span class="co">#&gt; 3     6.024628</span>
<span class="co">#&gt; 4     0.000000</span>
<span class="co">#&gt; 5     1.542366</span></code></pre></div>
<p>This model with random arrivals and exponential service times is an example of an M/M/1 queue and could rather easily be solved analytically to calculate the steady-state mean waiting time and other operating characteristics. (But not so easily solved for its transient behavior.)</p>
</div>
</div>
<div id="several-service-counters" class="section level2">
<h2>Several Service Counters</h2>
<p>When we introduce several counters we must decide on a queue discipline. Are customers going to make one queue or are they going to form separate queues in front of each counter? Then there are complications - will they be allowed to switch lines (jockey)? We first consider a single queue with several counters and later consider separate isolated queues. We will not look at jockeying.</p>
<div id="several-counters-but-a-single-queue" class="section level3">
<h3>Several Counters but a Single Queue</h3>
<p>Here we model a bank whose customers arrive randomly and are to be served at a group of counters, taking a random time for service, where we assume that waiting customers form a single first-in first-out queue.</p>
<p>The only difference between this model and the single-server model is in the <code>add_resource</code> function, where we have increased the capacity to two so that it can serve two customers at once.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">library</span>(simmer)

<span class="kw">set.seed</span>(<span class="dv">99999</span>)

customer &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/create_trajectory.html">create_trajectory</a></span>(<span class="st">"Customer's path"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/seize.html">seize</a></span>(<span class="st">"counter"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/timeout.html">timeout</a></span>(function() {<span class="kw">rexp</span>(<span class="dv">1</span>, <span class="dv">1</span>/<span class="dv">12</span>)}) %&gt;%
<span class="st">  </span><span class="co"># timeout(rexp(1, 1/12)) %&gt;% # This line would use the same time for everyone</span>
<span class="st">  </span><span class="kw"><a href="../reference/seize.html">release</a></span>(<span class="st">"counter"</span>)

bank &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/simmer.html">simmer</a></span>(<span class="st">"bank"</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/add_resource.html">add_resource</a></span>(<span class="st">"counter"</span>, <span class="dv">2</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/add_generator.html">add_generator</a></span>(<span class="st">"Customer"</span>, customer, function() {<span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">rexp</span>(<span class="dv">4</span>, <span class="dv">1</span>/<span class="dv">10</span>), -<span class="dv">1</span>)})

bank %&gt;%<span class="st"> </span><span class="kw"><a href="../reference/run.html">run</a></span>(<span class="dt">until =</span> <span class="dv">400</span>) 
<span class="co">#&gt; simmer environment: bank | now: 55.4629048639701 | next: </span>
<span class="co">#&gt; { Resource: counter | monitored: 1 | server status: 0(2) | queue status: 0(Inf) }</span>
<span class="co">#&gt; { Generator: Customer | monitored: 1 | n_generated: 5 }</span>
bank %&gt;%<span class="st"> </span>
<span class="st">  </span>get_mon_arrivals %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">waiting_time =</span> end_time -<span class="st"> </span>start_time -<span class="st"> </span>activity_time)
<span class="co">#&gt;        name start_time end_time activity_time finished replication</span>
<span class="co">#&gt; 1 Customer0    0.00000  6.24161      6.241610     TRUE           1</span>
<span class="co">#&gt; 2 Customer2   13.03443 14.05953      1.025096     TRUE           1</span>
<span class="co">#&gt; 3 Customer1   10.34073 19.05906      8.718329     TRUE           1</span>
<span class="co">#&gt; 4 Customer3   31.65036 47.58293     15.932568     TRUE           1</span>
<span class="co">#&gt; 5 Customer4   46.04056 55.46290      9.422343     TRUE           1</span>
<span class="co">#&gt;   waiting_time</span>
<span class="co">#&gt; 1 0.000000e+00</span>
<span class="co">#&gt; 2 2.220446e-16</span>
<span class="co">#&gt; 3 0.000000e+00</span>
<span class="co">#&gt; 4 0.000000e+00</span>
<span class="co">#&gt; 5 1.776357e-15</span></code></pre></div>
<p>The waiting times in this model are much shorter than those for the single service counter. For example, the waiting time for Customer2 has been reduced from 6 minutes to zero. Again we have too few customers processed to draw general conclusions.</p>
</div>
<div id="several-counters-with-individual-queues" class="section level3">
<h3>Several Counters with individual queues</h3>
<p>Each counter is now assumed to have its own queue. The programming is more complicated because the customer has to decide which queue to join. The obvious technique is to make each counter a separate resource.</p>
<p>In practice, a customer might join the shortest queue. We implement this behaviour by first selecting the shortest queue, using the <code>select</code> function. (This is prefixed <code>simmer::select</code> to avoid clashes with the dplyr package). Then we use <code>seize_selected</code> to enter the chosen queue, and later <code>release_selected</code>.</p>
<p>The rest of the program is the same as before.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">library</span>(simmer)

<span class="kw">set.seed</span>(<span class="dv">1014</span>)

customer &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/create_trajectory.html">create_trajectory</a></span>(<span class="st">"Customer's path"</span>) %&gt;%
<span class="st">  </span>simmer::<span class="kw"><a href="../reference/select.html">select</a></span>(<span class="kw">c</span>(<span class="st">"counter1"</span>, <span class="st">"counter2"</span>), <span class="dt">policy =</span> <span class="st">"shortest-queue"</span>) %&gt;%
<span class="st">  </span>seize_selected %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/timeout.html">timeout</a></span>(function() {<span class="kw">rexp</span>(<span class="dv">1</span>, <span class="dv">1</span>/<span class="dv">12</span>)}) %&gt;%
<span class="st">  </span>release_selected

bank &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/simmer.html">simmer</a></span>(<span class="st">"bank"</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/add_resource.html">add_resource</a></span>(<span class="st">"counter1"</span>, <span class="dv">1</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/add_resource.html">add_resource</a></span>(<span class="st">"counter2"</span>, <span class="dv">1</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/add_generator.html">add_generator</a></span>(<span class="st">"Customer"</span>, customer, function() {<span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">rexp</span>(<span class="dv">4</span>, <span class="dv">1</span>/<span class="dv">10</span>), -<span class="dv">1</span>)})

bank %&gt;%<span class="st"> </span><span class="kw"><a href="../reference/run.html">run</a></span>(<span class="dt">until =</span> <span class="dv">400</span>) 
<span class="co">#&gt; simmer environment: bank | now: 62.3885266177193 | next: </span>
<span class="co">#&gt; { Resource: counter1 | monitored: 1 | server status: 0(1) | queue status: 0(Inf) }</span>
<span class="co">#&gt; { Resource: counter2 | monitored: 1 | server status: 0(1) | queue status: 0(Inf) }</span>
<span class="co">#&gt; { Generator: Customer | monitored: 1 | n_generated: 5 }</span>
bank %&gt;%<span class="st"> </span>
<span class="st">  </span>get_mon_arrivals %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">service_start_time =</span> end_time -<span class="st"> </span>activity_time) %&gt;%
<span class="st">  </span><span class="kw">arrange</span>(start_time)
<span class="co">#&gt;        name start_time end_time activity_time finished replication</span>
<span class="co">#&gt; 1 Customer0    0.00000 62.10372    62.1037152     TRUE           1</span>
<span class="co">#&gt; 2 Customer1   23.71444 33.94103    10.2265939     TRUE           1</span>
<span class="co">#&gt; 3 Customer2   30.40110 62.38853     0.2848114     TRUE           1</span>
<span class="co">#&gt; 4 Customer3   32.41632 39.53020     5.5891677     TRUE           1</span>
<span class="co">#&gt; 5 Customer4   48.85593 55.39645     6.5405163     TRUE           1</span>
<span class="co">#&gt;   service_start_time</span>
<span class="co">#&gt; 1            0.00000</span>
<span class="co">#&gt; 2           23.71444</span>
<span class="co">#&gt; 3           62.10372</span>
<span class="co">#&gt; 4           33.94103</span>
<span class="co">#&gt; 5           48.85593</span>
bank %&gt;%<span class="st"> </span>
<span class="st">  </span>get_mon_resources %&gt;%
<span class="st">  </span><span class="kw">arrange</span>(time)
<span class="co">#&gt;    resource     time server queue capacity queue_size system limit</span>
<span class="co">#&gt; 1  counter1  0.00000      1     0        1        Inf      1   Inf</span>
<span class="co">#&gt; 2  counter2 23.71444      1     0        1        Inf      1   Inf</span>
<span class="co">#&gt; 3  counter1 30.40110      1     1        1        Inf      2   Inf</span>
<span class="co">#&gt; 4  counter2 32.41632      1     1        1        Inf      2   Inf</span>
<span class="co">#&gt; 5  counter2 33.94103      1     0        1        Inf      1   Inf</span>
<span class="co">#&gt; 6  counter2 39.53020      0     0        1        Inf      0   Inf</span>
<span class="co">#&gt; 7  counter2 48.85593      1     0        1        Inf      1   Inf</span>
<span class="co">#&gt; 8  counter2 55.39645      0     0        1        Inf      0   Inf</span>
<span class="co">#&gt; 9  counter1 62.10372      1     0        1        Inf      1   Inf</span>
<span class="co">#&gt; 10 counter1 62.38853      0     0        1        Inf      0   Inf</span>
<span class="co">#&gt;    replication</span>
<span class="co">#&gt; 1            1</span>
<span class="co">#&gt; 2            1</span>
<span class="co">#&gt; 3            1</span>
<span class="co">#&gt; 4            1</span>
<span class="co">#&gt; 5            1</span>
<span class="co">#&gt; 6            1</span>
<span class="co">#&gt; 7            1</span>
<span class="co">#&gt; 8            1</span>
<span class="co">#&gt; 9            1</span>
<span class="co">#&gt; 10           1</span></code></pre></div>
<p>The results show that the customers chose the counter with the smallest number. Unlucky Customer2 who joins the wrong queue has to wait until Customer0 finishes at time 62.10372, and is the last to leave. There are, however, too few arrivals in these runs, limited as they are to five customers, to draw any general conclusions about the relative efficiencies of the two systems.</p>
</div>
<div id="the-bank-with-a-monitor-aka-summary-statistics" class="section level3">
<h3>The bank with a monitor (aka summary statistics)</h3>
<p>We now demonstrate how to calculate average waiting times for our customers. In the original SimPy version of this tutorial, this involved using &lsquo;Monitors&rsquo;. In simmer, data is returned by the <code>get_mon_*</code> family of functions, as has already been demonstrated. Here, we simply summarise the data frame returned by the <code>get_mon_arrivals</code> function, using functions from the <code>dplyr</code> package.</p>
<p>We also increase the number of customers to 50 (find the number &lsquo;49&rsquo; in the code.code).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">library</span>(simmer)

<span class="kw">set.seed</span>(<span class="dv">100005</span>)

customer &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/create_trajectory.html">create_trajectory</a></span>(<span class="st">"Customer's path"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/seize.html">seize</a></span>(<span class="st">"counter"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/timeout.html">timeout</a></span>(function() {<span class="kw">rexp</span>(<span class="dv">1</span>, <span class="dv">1</span>/<span class="dv">12</span>)}) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/seize.html">release</a></span>(<span class="st">"counter"</span>)

bank &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/simmer.html">simmer</a></span>(<span class="st">"bank"</span>) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/add_resource.html">add_resource</a></span>(<span class="st">"counter"</span>, <span class="dv">2</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/add_generator.html">add_generator</a></span>(<span class="st">"Customer"</span>, customer, function() {<span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">rexp</span>(<span class="dv">49</span>, <span class="dv">1</span>/<span class="dv">10</span>), -<span class="dv">1</span>)})

bank %&gt;%<span class="st"> </span><span class="kw"><a href="../reference/run.html">run</a></span>(<span class="dt">until =</span> <span class="dv">400</span>) 
<span class="co">#&gt; simmer environment: bank | now: 400 | next: 440.872565352812</span>
<span class="co">#&gt; { Resource: counter | monitored: 1 | server status: 0(2) | queue status: 0(Inf) }</span>
<span class="co">#&gt; { Generator: Customer | monitored: 1 | n_generated: 50 }</span>
result &lt;-<span class="st"> </span>
<span class="st">  </span>bank %&gt;%<span class="st"> </span>
<span class="st">  </span>get_mon_arrivals %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">waiting_time =</span> end_time -<span class="st"> </span>start_time -<span class="st"> </span>activity_time)
<span class="kw">paste</span>(<span class="st">"Average wait for "</span>, <span class="kw">sum</span>(result$finished), <span class="st">" completions was "</span>,
      <span class="kw">mean</span>(result$waiting_time), <span class="st">"minutes."</span>)
<span class="co">#&gt; [1] "Average wait for  29  completions was  0.584941574937737 minutes."</span></code></pre></div>
</div>
<div id="multiple-runs" class="section level3">
<h3>Multiple runs</h3>
<p>To get a number of independent measurements we must replicate the runs using different random number seeds. Each replication must be independent of previous ones, so the environment (bank) must be redefined for each run, so that the random interarrival times in the <code>add_generator</code> function are generated from scratch.</p>
<p>We take the chunks of code that build the environment (bank) and run the simulation, and wrap them in the <code>mclapply</code> function from the &lsquo;parallel&rsquo; package. This function runs each simulation in parallel, using the available cores in the computer&rsquo;s processor. Because we use seeds for reproducability, we pass these to the function that runs the simulation (<code>function(the_seed)</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">library</span>(simmer)
<span class="kw">library</span>(parallel)

customer &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/create_trajectory.html">create_trajectory</a></span>(<span class="st">"Customer's path"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/seize.html">seize</a></span>(<span class="st">"counter"</span>) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/timeout.html">timeout</a></span>(function() {<span class="kw">rexp</span>(<span class="dv">1</span>, <span class="dv">1</span>/<span class="dv">12</span>)}) %&gt;%
<span class="st">  </span><span class="kw"><a href="../reference/seize.html">release</a></span>(<span class="st">"counter"</span>)

<span class="kw">mclapply</span>(<span class="kw">c</span>(<span class="dv">393943</span>, <span class="dv">100005</span>, <span class="dv">777999555</span>, <span class="dv">319999772</span>), function(the_seed) {
  <span class="kw">set.seed</span>(the_seed)

  bank &lt;-<span class="st"> </span>
<span class="st">    </span><span class="kw"><a href="../reference/simmer.html">simmer</a></span>(<span class="st">"bank"</span>) %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw"><a href="../reference/add_resource.html">add_resource</a></span>(<span class="st">"counter"</span>, <span class="dv">2</span>) %&gt;%
<span class="st">    </span><span class="kw"><a href="../reference/add_generator.html">add_generator</a></span>(<span class="st">"Customer"</span>, customer, function() {<span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">rexp</span>(<span class="dv">49</span>, <span class="dv">1</span>/<span class="dv">10</span>), -<span class="dv">1</span>)})

  bank %&gt;%<span class="st"> </span><span class="kw"><a href="../reference/run.html">run</a></span>(<span class="dt">until =</span> <span class="dv">400</span>) 
  result &lt;-<span class="st"> </span>
<span class="st">    </span>bank %&gt;%<span class="st"> </span>
<span class="st">    </span>get_mon_arrivals %&gt;%
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">waiting_time =</span> end_time -<span class="st"> </span>start_time -<span class="st"> </span>activity_time)
  <span class="kw">paste</span>(<span class="st">"Average wait for "</span>, <span class="kw">sum</span>(result$finished), <span class="st">" completions was "</span>,
        <span class="kw">mean</span>(result$waiting_time), <span class="st">"minutes."</span>)
})
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] "Average wait for  49  completions was  3.4958501806687 minutes."</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; [1] "Average wait for  29  completions was  0.584941574937737 minutes."</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[3]]</span>
<span class="co">#&gt; [1] "Average wait for  32  completions was  1.00343842138177 minutes."</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[4]]</span>
<span class="co">#&gt; [1] "Average wait for  42  completions was  7.41231393636088 minutes."</span></code></pre></div>
<p>The results show some variation. Remember, though, that the system is still only operating for 50 customers, so the system may not be in steady-state.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked"><li><a href="#introduction">Introduction</a></li>
      <li><a href="#a-single-customer">A single customer</a></li>
      <li><a href="#a-service-counter">A Service counter</a></li>
      <li><a href="#several-service-counters">Several Service Counters</a></li>
      </ul></div>
      </div>

</div>


        <footer><p>Built by <a href="http://hadley.github.io/staticdocs/">staticdocs</a>. Styled with <a href="http://getbootstrap.com">Bootstrap 3</a>.</p>
        </footer></div>

  </body></html>
